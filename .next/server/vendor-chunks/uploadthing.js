"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/uploadthing";
exports.ids = ["vendor-chunks/uploadthing"];
exports.modules = {

/***/ "(rsc)/./node_modules/uploadthing/dist/chunk-5KWT532U.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/uploadthing/dist/chunk-5KWT532U.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   maybeParseResponseXML: () => (/* binding */ maybeParseResponseXML)\n/* harmony export */ });\n// src/internal/s3-error-parser.ts\nvar maybeParseResponseXML = (maybeXml)=>{\n    const codeMatch = maybeXml.match(/<Code>(.*?)<\\/Code>/s);\n    const messageMatch = maybeXml.match(/<Message>(.*?)<\\/Message>/s);\n    const code = codeMatch == null ? void 0 : codeMatch[1];\n    const message = messageMatch == null ? void 0 : messageMatch[1];\n    if (!code || !message) return null;\n    return {\n        code: s3CodeToUploadThingCode[code] ?? DEFAULT_ERROR_CODE,\n        message\n    };\n};\nvar DEFAULT_ERROR_CODE = \"UPLOAD_FAILED\";\nvar s3CodeToUploadThingCode = {\n    AccessDenied: \"FORBIDDEN\",\n    // 403 Forbidden\n    EntityTooSmall: \"TOO_SMALL\",\n    // 400 Bad Request\n    EntityTooLarge: \"TOO_LARGE\",\n    // 400 Bad Request\n    ExpiredToken: \"FORBIDDEN\",\n    // 400 Bad Request\n    IncorrectNumberOfFilesInPostRequest: \"TOO_MANY_FILES\",\n    // 400 Bad Request\n    InternalError: \"INTERNAL_SERVER_ERROR\",\n    // 500 Internal Server Error\n    KeyTooLongError: \"KEY_TOO_LONG\",\n    // 400 Bad Request\n    MaxMessageLengthExceeded: \"TOO_LARGE\"\n};\n //# sourceMappingURL=chunk-5KWT532U.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9jaHVuay01S1dUNTMyVS5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGtDQUFrQztBQUNsQyxJQUFJQSx3QkFBd0IsQ0FBQ0M7SUFDM0IsTUFBTUMsWUFBWUQsU0FBU0UsS0FBSyxDQUFDO0lBQ2pDLE1BQU1DLGVBQWVILFNBQVNFLEtBQUssQ0FBQztJQUNwQyxNQUFNRSxPQUFPSCxhQUFhLE9BQU8sS0FBSyxJQUFJQSxTQUFTLENBQUMsRUFBRTtJQUN0RCxNQUFNSSxVQUFVRixnQkFBZ0IsT0FBTyxLQUFLLElBQUlBLFlBQVksQ0FBQyxFQUFFO0lBQy9ELElBQUksQ0FBQ0MsUUFBUSxDQUFDQyxTQUNaLE9BQU87SUFDVCxPQUFPO1FBQUVELE1BQU1FLHVCQUF1QixDQUFDRixLQUFLLElBQUlHO1FBQW9CRjtJQUFRO0FBQzlFO0FBQ0EsSUFBSUUscUJBQXFCO0FBQ3pCLElBQUlELDBCQUEwQjtJQUM1QkUsY0FBYztJQUNkLGdCQUFnQjtJQUNoQkMsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtJQUNsQkMsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtJQUNsQkMsY0FBYztJQUNkLGtCQUFrQjtJQUNsQkMscUNBQXFDO0lBQ3JDLGtCQUFrQjtJQUNsQkMsZUFBZTtJQUNmLDRCQUE0QjtJQUM1QkMsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQkMsMEJBQTBCO0FBRTVCO0FBSUUsQ0FDRiwyQ0FBMkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlYWRzLy4vbm9kZV9tb2R1bGVzL3VwbG9hZHRoaW5nL2Rpc3QvY2h1bmstNUtXVDUzMlUubWpzP2JlOTciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2ludGVybmFsL3MzLWVycm9yLXBhcnNlci50c1xudmFyIG1heWJlUGFyc2VSZXNwb25zZVhNTCA9IChtYXliZVhtbCkgPT4ge1xuICBjb25zdCBjb2RlTWF0Y2ggPSBtYXliZVhtbC5tYXRjaCgvPENvZGU+KC4qPyk8XFwvQ29kZT4vcyk7XG4gIGNvbnN0IG1lc3NhZ2VNYXRjaCA9IG1heWJlWG1sLm1hdGNoKC88TWVzc2FnZT4oLio/KTxcXC9NZXNzYWdlPi9zKTtcbiAgY29uc3QgY29kZSA9IGNvZGVNYXRjaCA9PSBudWxsID8gdm9pZCAwIDogY29kZU1hdGNoWzFdO1xuICBjb25zdCBtZXNzYWdlID0gbWVzc2FnZU1hdGNoID09IG51bGwgPyB2b2lkIDAgOiBtZXNzYWdlTWF0Y2hbMV07XG4gIGlmICghY29kZSB8fCAhbWVzc2FnZSlcbiAgICByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIHsgY29kZTogczNDb2RlVG9VcGxvYWRUaGluZ0NvZGVbY29kZV0gPz8gREVGQVVMVF9FUlJPUl9DT0RFLCBtZXNzYWdlIH07XG59O1xudmFyIERFRkFVTFRfRVJST1JfQ09ERSA9IFwiVVBMT0FEX0ZBSUxFRFwiO1xudmFyIHMzQ29kZVRvVXBsb2FkVGhpbmdDb2RlID0ge1xuICBBY2Nlc3NEZW5pZWQ6IFwiRk9SQklEREVOXCIsXG4gIC8vIDQwMyBGb3JiaWRkZW5cbiAgRW50aXR5VG9vU21hbGw6IFwiVE9PX1NNQUxMXCIsXG4gIC8vIDQwMCBCYWQgUmVxdWVzdFxuICBFbnRpdHlUb29MYXJnZTogXCJUT09fTEFSR0VcIixcbiAgLy8gNDAwIEJhZCBSZXF1ZXN0XG4gIEV4cGlyZWRUb2tlbjogXCJGT1JCSURERU5cIixcbiAgLy8gNDAwIEJhZCBSZXF1ZXN0XG4gIEluY29ycmVjdE51bWJlck9mRmlsZXNJblBvc3RSZXF1ZXN0OiBcIlRPT19NQU5ZX0ZJTEVTXCIsXG4gIC8vIDQwMCBCYWQgUmVxdWVzdFxuICBJbnRlcm5hbEVycm9yOiBcIklOVEVSTkFMX1NFUlZFUl9FUlJPUlwiLFxuICAvLyA1MDAgSW50ZXJuYWwgU2VydmVyIEVycm9yXG4gIEtleVRvb0xvbmdFcnJvcjogXCJLRVlfVE9PX0xPTkdcIixcbiAgLy8gNDAwIEJhZCBSZXF1ZXN0XG4gIE1heE1lc3NhZ2VMZW5ndGhFeGNlZWRlZDogXCJUT09fTEFSR0VcIlxuICAvLyA0MDAgQmFkIFJlcXVlc3Rcbn07XG5cbmV4cG9ydCB7XG4gIG1heWJlUGFyc2VSZXNwb25zZVhNTFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLTVLV1Q1MzJVLm1qcy5tYXAiXSwibmFtZXMiOlsibWF5YmVQYXJzZVJlc3BvbnNlWE1MIiwibWF5YmVYbWwiLCJjb2RlTWF0Y2giLCJtYXRjaCIsIm1lc3NhZ2VNYXRjaCIsImNvZGUiLCJtZXNzYWdlIiwiczNDb2RlVG9VcGxvYWRUaGluZ0NvZGUiLCJERUZBVUxUX0VSUk9SX0NPREUiLCJBY2Nlc3NEZW5pZWQiLCJFbnRpdHlUb29TbWFsbCIsIkVudGl0eVRvb0xhcmdlIiwiRXhwaXJlZFRva2VuIiwiSW5jb3JyZWN0TnVtYmVyT2ZGaWxlc0luUG9zdFJlcXVlc3QiLCJJbnRlcm5hbEVycm9yIiwiS2V5VG9vTG9uZ0Vycm9yIiwiTWF4TWVzc2FnZUxlbmd0aEV4Y2VlZGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/uploadthing/dist/chunk-5KWT532U.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/uploadthing/dist/chunk-BPTHKJTK.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/uploadthing/dist/chunk-BPTHKJTK.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UPLOADTHING_VERSION: () => (/* binding */ UPLOADTHING_VERSION),\n/* harmony export */   VALID_ACTION_TYPES: () => (/* binding */ VALID_ACTION_TYPES),\n/* harmony export */   buildPermissionsInfoHandler: () => (/* binding */ buildPermissionsInfoHandler),\n/* harmony export */   buildRequestHandler: () => (/* binding */ buildRequestHandler),\n/* harmony export */   createBuilder: () => (/* binding */ createBuilder),\n/* harmony export */   defaultErrorFormatter: () => (/* binding */ defaultErrorFormatter),\n/* harmony export */   formatError: () => (/* binding */ formatError),\n/* harmony export */   unsetMarker: () => (/* binding */ unsetMarker)\n/* harmony export */ });\n/* harmony import */ var _chunk_T2XS27LC_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-T2XS27LC.mjs */ \"(rsc)/./node_modules/uploadthing/dist/chunk-T2XS27LC.mjs\");\n/* harmony import */ var _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @uploadthing/shared */ \"(rsc)/./node_modules/@uploadthing/shared/dist/index.mjs\");\n\n// package.json\nvar require_package = (0,_chunk_T2XS27LC_mjs__WEBPACK_IMPORTED_MODULE_0__.__commonJS)({\n    \"package.json\" (exports, module) {\n        module.exports = {\n            name: \"uploadthing\",\n            version: \"5.7.4\",\n            engines: {\n                node: \">=18.13.0\"\n            },\n            license: \"MIT\",\n            exports: {\n                \"./package.json\": \"./package.json\",\n                \"./client\": {\n                    types: \"./dist/client.d.ts\",\n                    import: \"./dist/client.mjs\",\n                    require: \"./dist/client.js\"\n                },\n                \"./server\": {\n                    types: \"./dist/server.d.ts\",\n                    import: \"./dist/server.mjs\",\n                    require: \"./dist/server.js\"\n                },\n                \"./next\": {\n                    types: \"./dist/next.d.ts\",\n                    import: \"./dist/next.mjs\",\n                    require: \"./dist/next.js\"\n                },\n                \"./next-legacy\": {\n                    types: \"./dist/next-legacy.d.ts\",\n                    import: \"./dist/next-legacy.mjs\",\n                    require: \"./dist/next-legacy.js\"\n                },\n                \"./express\": {\n                    import: \"./dist/express.mjs\",\n                    types: \"./dist/express.d.ts\",\n                    require: \"./dist/express.js\"\n                },\n                \"./tw\": {\n                    types: \"./dist/tw.d.ts\",\n                    import: \"./dist/tw.mjs\",\n                    require: \"./dist/tw.js\"\n                },\n                \"./fastify\": {\n                    types: \"./dist/fastify.d.ts\",\n                    import: \"./dist/fastify.mjs\",\n                    require: \"./dist/fastify.js\"\n                },\n                \"./h3\": {\n                    types: \"./dist/h3.d.ts\",\n                    import: \"./dist/h3.mjs\",\n                    require: \"./dist/h3.js\"\n                }\n            },\n            files: [\n                \"dist\"\n            ],\n            publishConfig: {\n                access: \"public\"\n            },\n            typesVersions: {\n                \"*\": {\n                    client: [\n                        \"dist/client.d.ts\"\n                    ],\n                    server: [\n                        \"dist/server.d.ts\"\n                    ],\n                    next: [\n                        \"dist/next.d.ts\"\n                    ],\n                    \"next-legacy\": [\n                        \"dist/next-legacy.d.ts\"\n                    ],\n                    tw: [\n                        \"dist/tw.d.ts\"\n                    ],\n                    express: [\n                        \"dist/express.d.ts\"\n                    ],\n                    fastify: [\n                        \"dist/fastify.d.ts\"\n                    ],\n                    h3: [\n                        \"dist/h3.d.ts\"\n                    ]\n                }\n            },\n            scripts: {\n                lint: 'eslint \"**/*.{ts,tsx}\" --max-warnings 0',\n                build: \"tsup\",\n                clean: \"git clean -xdf dist node_modules\",\n                dev: \"tsup --watch\",\n                test: \"vitest run\",\n                \"test:watch\": \"vitest\",\n                typecheck: \"tsc --noEmit\"\n            },\n            dependencies: {\n                \"@uploadthing/mime-types\": \"^0.2.2\",\n                \"@uploadthing/shared\": \"^5.2.7\"\n            },\n            devDependencies: {\n                \"@types/express\": \"^4.17.17\",\n                \"@types/react\": \"18.2.33\",\n                \"@uploadthing/eslint-config\": \"0.2.0\",\n                \"@uploadthing/tsconfig\": \"0.1.0\",\n                \"@uploadthing/tsup-config\": \"0.1.0\",\n                eslint: \"^8.47.0\",\n                express: \"^4.18.2\",\n                fastify: \"^4.23.2\",\n                h3: \"^1.8.1\",\n                next: \"14.0.1\",\n                \"solid-js\": \"^1.7.11\",\n                tailwindcss: \"^3.3.2\",\n                tsup: \"6.7.0\",\n                \"type-fest\": \"^3.11.1\",\n                typescript: \"^5.1.6\",\n                undici: \"^5.20.0\",\n                vitest: \"^0.30.1\",\n                zod: \"^3.22.3\"\n            },\n            eslintConfig: {\n                root: true,\n                extends: [\n                    \"@uploadthing/eslint-config/base\"\n                ]\n            }\n        };\n    }\n});\n// src/constants.ts\nvar packageJson = require_package();\nif (!packageJson.version) throw new Error(\"no version found in package.json\");\nvar UPLOADTHING_VERSION = packageJson.version;\n// src/internal/error-formatter.ts\nfunction defaultErrorFormatter(error) {\n    return {\n        message: error.message\n    };\n}\nfunction formatError(error, router) {\n    var _a;\n    const errorFormatter = ((_a = router[Object.keys(router)[0]]) == null ? void 0 : _a._def.errorFormatter) ?? defaultErrorFormatter;\n    return errorFormatter(error);\n}\n// src/internal/types.ts\nvar unsetMarker = \"unsetMarker\";\nvar VALID_ACTION_TYPES = [\n    \"upload\",\n    \"failure\"\n];\n// src/internal/handler.ts\n\n// src/internal/dev-hook.ts\n\nvar isValidResponse = (response)=>{\n    if (!response.ok) return false;\n    if (response.status >= 400) return false;\n    if (!response.headers.has(\"x-uploadthing-version\")) return false;\n    return true;\n};\nvar conditionalDevServer = async (fileKey)=>{\n    if (false) {}\n    const fileData = await (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.pollForFileData)(fileKey, async (json)=>{\n        const file = json.fileData;\n        let callbackUrl = file.callbackUrl + `?slug=${file.callbackSlug}`;\n        if (!callbackUrl.startsWith(\"http\")) callbackUrl = \"http://\" + callbackUrl;\n        console.log(\"[UT] SIMULATING FILE UPLOAD WEBHOOK CALLBACK\", callbackUrl);\n        const response = await fetch(callbackUrl, {\n            method: \"POST\",\n            body: JSON.stringify({\n                status: \"uploaded\",\n                metadata: JSON.parse(file.metadata ?? \"{}\"),\n                file: {\n                    url: `https://utfs.io/f/${encodeURIComponent(fileKey)}`,\n                    key: fileKey,\n                    name: file.fileName,\n                    size: file.fileSize\n                }\n            }),\n            headers: {\n                \"uploadthing-hook\": \"callback\"\n            }\n        });\n        if (isValidResponse(response)) {\n            console.log(\"[UT] Successfully simulated callback for file\", fileKey);\n        } else {\n            console.error(\"[UT] Failed to simulate callback for file. Is your webhook configured correctly?\", fileKey);\n        }\n        return file;\n    });\n    if (fileData !== null) return fileData;\n    console.error(`[UT] Failed to simulate callback for file ${fileKey}`);\n    throw new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n        code: \"UPLOAD_FAILED\",\n        message: \"File took too long to upload\"\n    });\n};\n// src/internal/parser.ts\nfunction getParseFn(parser) {\n    if (typeof parser.parse === \"function\") {\n        return parser.parse;\n    }\n    throw new Error(\"Invalid parser\");\n}\n// src/internal/handler.ts\nvar fileCountLimitHit = (files, routeConfig)=>{\n    var _a;\n    const counts = {};\n    files.forEach((file)=>{\n        const type = (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.getTypeFromFileName)(file, (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.objectKeys)(routeConfig));\n        if (!counts[type]) {\n            counts[type] = 1;\n        } else {\n            counts[type] += 1;\n        }\n    });\n    for(const _key in counts){\n        const key = _key;\n        const count = counts[key];\n        const limit = (_a = routeConfig[key]) == null ? void 0 : _a.maxFileCount;\n        if (!limit) {\n            console.error(routeConfig, key);\n            throw new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                code: \"BAD_REQUEST\",\n                message: \"Invalid config during file count\",\n                cause: `Expected route config to have a maxFileCount for key ${key} but none was found.`\n            });\n        }\n        if (count > limit) {\n            return {\n                limitHit: true,\n                type: key,\n                limit,\n                count\n            };\n        }\n    }\n    return {\n        limitHit: false\n    };\n};\nvar getHeader = (req, key)=>{\n    if (req.headers instanceof Headers) {\n        return req.headers.get(key);\n    }\n    return req.headers[key];\n};\nvar buildRequestHandler = (opts)=>{\n    return async (input)=>{\n        if (true) {\n            console.log(\"[UT] UploadThing dev server is now running!\");\n        }\n        const { req, res, event } = input;\n        const { router, config } = opts;\n        const preferredOrEnvSecret = (config == null ? void 0 : config.uploadthingSecret) ?? process.env.UPLOADTHING_SECRET;\n        const params = new URL(req.url ?? \"\", (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.getUploadthingUrl)()).searchParams;\n        const uploadthingHook = getHeader(req, \"uploadthing-hook\") ?? void 0;\n        const slug = params.get(\"slug\") ?? void 0;\n        const actionType = params.get(\"actionType\") ?? void 0;\n        if (!slug) return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n            code: \"BAD_REQUEST\",\n            message: \"No slug provided\"\n        });\n        if (slug && typeof slug !== \"string\") {\n            return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                code: \"BAD_REQUEST\",\n                message: \"`slug` must be a string\",\n                cause: `Expected slug to be of type 'string', got '${typeof slug}'`\n            });\n        }\n        if (actionType && typeof actionType !== \"string\") {\n            return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                code: \"BAD_REQUEST\",\n                message: \"`actionType` must be a string\",\n                cause: `Expected actionType to be of type 'string', got '${typeof actionType}'`\n            });\n        }\n        if (uploadthingHook && typeof uploadthingHook !== \"string\") {\n            return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                code: \"BAD_REQUEST\",\n                message: \"`uploadthingHook` must be a string\",\n                cause: `Expected uploadthingHook to be of type 'string', got '${typeof uploadthingHook}'`\n            });\n        }\n        if (!preferredOrEnvSecret) {\n            return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                code: \"BAD_REQUEST\",\n                message: `Please set your preferred secret in ${slug} router's config or set UPLOADTHING_SECRET in your env file`,\n                cause: \"No secret provided\"\n            });\n        }\n        const uploadable = router[slug];\n        if (!uploadable) {\n            return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                code: \"NOT_FOUND\",\n                message: `No file route found for slug ${slug}`\n            });\n        }\n        if (uploadthingHook === \"callback\") {\n            const maybeReqBody = await (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.safeParseJSON)(req);\n            if (maybeReqBody instanceof Error) {\n                return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                    code: \"BAD_REQUEST\",\n                    message: \"Invalid request body\",\n                    cause: maybeReqBody\n                });\n            }\n            await uploadable.resolver({\n                file: maybeReqBody.file,\n                metadata: maybeReqBody.metadata\n            });\n            return {\n                status: 200\n            };\n        }\n        if (!actionType || !VALID_ACTION_TYPES.includes(actionType)) {\n            return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                code: \"BAD_REQUEST\",\n                cause: `Invalid action type ${actionType}`,\n                message: `Expected ${VALID_ACTION_TYPES.map((x)=>`\"${x}\"`).join(\", \").replace(/,(?!.*,)/, \" or\")} but got \"${\"a\"}\"`\n            });\n        }\n        switch(actionType){\n            case \"upload\":\n                {\n                    const maybeInput = await (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.safeParseJSON)(req);\n                    if (maybeInput instanceof Error) {\n                        return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                            code: \"BAD_REQUEST\",\n                            message: \"Invalid request body\",\n                            cause: maybeInput\n                        });\n                    }\n                    const { files, input: userInput } = maybeInput;\n                    let parsedInput = {};\n                    try {\n                        const inputParser = uploadable._def.inputParser;\n                        parsedInput = await getParseFn(inputParser)(userInput);\n                    } catch (error) {\n                        console.error(error);\n                        return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                            code: \"BAD_REQUEST\",\n                            message: \"Invalid input.\",\n                            cause: error\n                        });\n                    }\n                    let metadata = {};\n                    try {\n                        metadata = await uploadable._def.middleware({\n                            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                            req,\n                            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                            res,\n                            event,\n                            input: parsedInput\n                        });\n                    } catch (error) {\n                        console.error(error);\n                        return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                            code: \"INTERNAL_SERVER_ERROR\",\n                            message: \"Failed to run middleware.\",\n                            cause: error\n                        });\n                    }\n                    if (!Array.isArray(files) || !files.every((f)=>typeof f === \"string\")) return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                        code: \"BAD_REQUEST\",\n                        message: \"Files must be a string array\",\n                        cause: `Expected files to be of type 'string[]', got '${JSON.stringify(files)}'`\n                    });\n                    let parsedConfig;\n                    try {\n                        parsedConfig = (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.fillInputRouteConfig)(uploadable._def.routerConfig);\n                    } catch (error) {\n                        console.error(error);\n                        return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                            code: \"BAD_REQUEST\",\n                            message: \"Invalid config.\",\n                            cause: error\n                        });\n                    }\n                    try {\n                        const { limitHit, count, limit, type } = fileCountLimitHit(files, parsedConfig);\n                        if (limitHit) {\n                            return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                                code: \"BAD_REQUEST\",\n                                message: \"File limit exceeded\",\n                                cause: `You uploaded ${count} files of type '${type}', but the limit for that type is ${limit}`\n                            });\n                        }\n                    } catch (error) {\n                        console.error(error);\n                        return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                            code: \"BAD_REQUEST\",\n                            message: \"Invalid config.\",\n                            cause: error\n                        });\n                    }\n                    const uploadthingApiResponse = await fetch((0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.generateUploadThingURL)(\"/api/prepareUpload\"), {\n                        method: \"POST\",\n                        body: JSON.stringify({\n                            files,\n                            routeConfig: parsedConfig,\n                            metadata,\n                            callbackUrl: (config == null ? void 0 : config.callbackUrl) ?? (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.getUploadthingUrl)(),\n                            callbackSlug: slug\n                        }),\n                        headers: {\n                            \"Content-Type\": \"application/json\",\n                            \"x-uploadthing-api-key\": preferredOrEnvSecret,\n                            \"x-uploadthing-version\": UPLOADTHING_VERSION\n                        }\n                    });\n                    const parsedResponse = await (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.safeParseJSON)(uploadthingApiResponse);\n                    if (!uploadthingApiResponse.ok || parsedResponse instanceof Error) {\n                        console.error(\"[UT] unable to get presigned urls\");\n                        return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                            code: \"URL_GENERATION_FAILED\",\n                            message: \"Unable to get presigned urls\",\n                            cause: parsedResponse\n                        });\n                    }\n                    if (true) {\n                        for (const file of parsedResponse){\n                            void conditionalDevServer(file.key);\n                        }\n                    }\n                    return {\n                        body: parsedResponse,\n                        status: 200\n                    };\n                }\n            case \"failure\":\n                {\n                    const maybeReqBody = await (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.safeParseJSON)(req);\n                    if (maybeReqBody instanceof Error) {\n                        return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                            code: \"BAD_REQUEST\",\n                            message: \"Invalid request body\",\n                            cause: maybeReqBody\n                        });\n                    }\n                    const { fileKey } = maybeReqBody;\n                    const uploadthingApiResponse = await fetch((0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.generateUploadThingURL)(\"/api/failureCallback\"), {\n                        method: \"POST\",\n                        body: JSON.stringify({\n                            fileKey\n                        }),\n                        headers: {\n                            \"Content-Type\": \"application/json\",\n                            \"x-uploadthing-api-key\": preferredOrEnvSecret,\n                            \"x-uploadthing-version\": UPLOADTHING_VERSION\n                        }\n                    });\n                    if (!uploadthingApiResponse.ok) {\n                        console.error(\"[UT] failed to mark upload as failed\");\n                        const parsedResponse = await (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.safeParseJSON)(uploadthingApiResponse);\n                        return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                            code: \"URL_GENERATION_FAILED\",\n                            message: \"Unable to get presigned urls\",\n                            cause: parsedResponse\n                        });\n                    }\n                    try {\n                        uploadable._def.onUploadError({\n                            error: new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                                code: \"UPLOAD_FAILED\",\n                                message: `Upload failed for ${fileKey}`\n                            }),\n                            fileKey\n                        });\n                    } catch (error) {\n                        console.error(\"[UT] Failed to run onUploadError callback. You probably shouldn't be throwing errors in your callback.\");\n                        console.error(error);\n                        return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                            code: \"INTERNAL_SERVER_ERROR\",\n                            message: \"Failed to run onUploadError callback\",\n                            cause: error\n                        });\n                    }\n                    return {\n                        status: 200\n                    };\n                }\n            default:\n                {\n                    return new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.UploadThingError({\n                        code: \"BAD_REQUEST\",\n                        message: `Invalid action type`\n                    });\n                }\n        }\n    };\n};\nvar buildPermissionsInfoHandler = (opts)=>{\n    return ()=>{\n        const r = opts.router;\n        const permissions = Object.keys(r).map((k)=>{\n            const route = r[k];\n            const config = (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_1__.fillInputRouteConfig)(route._def.routerConfig);\n            return {\n                slug: k,\n                config\n            };\n        });\n        return permissions;\n    };\n};\n// src/internal/upload-builder.ts\nfunction internalCreateBuilder(initDef = {}) {\n    const _def = {\n        // Default router config\n        routerConfig: {\n            image: {\n                maxFileSize: \"4MB\"\n            }\n        },\n        inputParser: {\n            parse: ()=>({}),\n            _input: {},\n            _output: {}\n        },\n        middleware: ()=>({}),\n        onUploadError: ()=>({}),\n        errorFormatter: initDef.errorFormatter ?? defaultErrorFormatter,\n        // Overload with properties passed in\n        ...initDef\n    };\n    return {\n        input (userParser) {\n            return internalCreateBuilder({\n                ..._def,\n                inputParser: userParser\n            });\n        },\n        middleware (userMiddleware) {\n            return internalCreateBuilder({\n                ..._def,\n                middleware: userMiddleware\n            });\n        },\n        onUploadComplete (userUploadComplete) {\n            return {\n                _def,\n                resolver: userUploadComplete\n            };\n        },\n        onUploadError (userOnUploadError) {\n            return internalCreateBuilder({\n                ..._def,\n                onUploadError: userOnUploadError\n            });\n        }\n    };\n}\nfunction createBuilder(opts) {\n    return (input)=>{\n        return internalCreateBuilder({\n            routerConfig: input,\n            ...opts\n        });\n    };\n}\n //# sourceMappingURL=chunk-BPTHKJTK.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9jaHVuay1CUFRIS0pUSy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUU4QjtBQUU5QixlQUFlO0FBQ2YsSUFBSUMsa0JBQWtCRCwrREFBVUEsQ0FBQztJQUMvQixnQkFBZUUsT0FBTyxFQUFFQyxNQUFNO1FBQzVCQSxPQUFPRCxPQUFPLEdBQUc7WUFDZkUsTUFBTTtZQUNOQyxTQUFTO1lBQ1RDLFNBQVM7Z0JBQ1BDLE1BQU07WUFDUjtZQUNBQyxTQUFTO1lBQ1ROLFNBQVM7Z0JBQ1Asa0JBQWtCO2dCQUNsQixZQUFZO29CQUNWTyxPQUFPO29CQUNQQyxRQUFRO29CQUNSQyxTQUFTO2dCQUNYO2dCQUNBLFlBQVk7b0JBQ1ZGLE9BQU87b0JBQ1BDLFFBQVE7b0JBQ1JDLFNBQVM7Z0JBQ1g7Z0JBQ0EsVUFBVTtvQkFDUkYsT0FBTztvQkFDUEMsUUFBUTtvQkFDUkMsU0FBUztnQkFDWDtnQkFDQSxpQkFBaUI7b0JBQ2ZGLE9BQU87b0JBQ1BDLFFBQVE7b0JBQ1JDLFNBQVM7Z0JBQ1g7Z0JBQ0EsYUFBYTtvQkFDWEQsUUFBUTtvQkFDUkQsT0FBTztvQkFDUEUsU0FBUztnQkFDWDtnQkFDQSxRQUFRO29CQUNORixPQUFPO29CQUNQQyxRQUFRO29CQUNSQyxTQUFTO2dCQUNYO2dCQUNBLGFBQWE7b0JBQ1hGLE9BQU87b0JBQ1BDLFFBQVE7b0JBQ1JDLFNBQVM7Z0JBQ1g7Z0JBQ0EsUUFBUTtvQkFDTkYsT0FBTztvQkFDUEMsUUFBUTtvQkFDUkMsU0FBUztnQkFDWDtZQUNGO1lBQ0FDLE9BQU87Z0JBQ0w7YUFDRDtZQUNEQyxlQUFlO2dCQUNiQyxRQUFRO1lBQ1Y7WUFDQUMsZUFBZTtnQkFDYixLQUFLO29CQUNIQyxRQUFRO3dCQUNOO3FCQUNEO29CQUNEQyxRQUFRO3dCQUNOO3FCQUNEO29CQUNEQyxNQUFNO3dCQUNKO3FCQUNEO29CQUNELGVBQWU7d0JBQ2I7cUJBQ0Q7b0JBQ0RDLElBQUk7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QUNGO1FBQ0FyQixZQUFXc0IsY0FBYztZQUN2QixPQUFPUCxzQkFBc0I7Z0JBQzNCLEdBQUd4RyxJQUFJO2dCQUNQeUYsWUFBWXNCO1lBQ2Q7UUFDRjtRQUNBQyxrQkFBaUJDLGtCQUFrQjtZQUNqQyxPQUFPO2dCQUNMakg7Z0JBQ0ErRSxVQUFVa0M7WUFDWjtRQUNGO1FBQ0FmLGVBQWNnQixpQkFBaUI7WUFDN0IsT0FBT1Ysc0JBQXNCO2dCQUMzQixHQUFHeEcsSUFBSTtnQkFDUGtHLGVBQWVnQjtZQUNqQjtRQUNGO0lBQ0Y7QUFDRjtBQUNBLFNBQVNDLGNBQWNyRCxJQUFJO0lBQ3pCLE9BQU8sQ0FBQ0M7UUFDTixPQUFPeUMsc0JBQXNCO1lBQzNCVCxjQUFjaEM7WUFDZCxHQUFHRCxJQUFJO1FBQ1Q7SUFDRjtBQUNGO0FBV0UsQ0FDRiwyQ0FBMkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlYWRzLy4vbm9kZV9tb2R1bGVzL3VwbG9hZHRoaW5nL2Rpc3QvY2h1bmstQlBUSEtKVEsubWpzP2E5YmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgX19jb21tb25KU1xufSBmcm9tIFwiLi9jaHVuay1UMlhTMjdMQy5tanNcIjtcblxuLy8gcGFja2FnZS5qc29uXG52YXIgcmVxdWlyZV9wYWNrYWdlID0gX19jb21tb25KUyh7XG4gIFwicGFja2FnZS5qc29uXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBuYW1lOiBcInVwbG9hZHRoaW5nXCIsXG4gICAgICB2ZXJzaW9uOiBcIjUuNy40XCIsXG4gICAgICBlbmdpbmVzOiB7XG4gICAgICAgIG5vZGU6IFwiPj0xOC4xMy4wXCJcbiAgICAgIH0sXG4gICAgICBsaWNlbnNlOiBcIk1JVFwiLFxuICAgICAgZXhwb3J0czoge1xuICAgICAgICBcIi4vcGFja2FnZS5qc29uXCI6IFwiLi9wYWNrYWdlLmpzb25cIixcbiAgICAgICAgXCIuL2NsaWVudFwiOiB7XG4gICAgICAgICAgdHlwZXM6IFwiLi9kaXN0L2NsaWVudC5kLnRzXCIsXG4gICAgICAgICAgaW1wb3J0OiBcIi4vZGlzdC9jbGllbnQubWpzXCIsXG4gICAgICAgICAgcmVxdWlyZTogXCIuL2Rpc3QvY2xpZW50LmpzXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCIuL3NlcnZlclwiOiB7XG4gICAgICAgICAgdHlwZXM6IFwiLi9kaXN0L3NlcnZlci5kLnRzXCIsXG4gICAgICAgICAgaW1wb3J0OiBcIi4vZGlzdC9zZXJ2ZXIubWpzXCIsXG4gICAgICAgICAgcmVxdWlyZTogXCIuL2Rpc3Qvc2VydmVyLmpzXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCIuL25leHRcIjoge1xuICAgICAgICAgIHR5cGVzOiBcIi4vZGlzdC9uZXh0LmQudHNcIixcbiAgICAgICAgICBpbXBvcnQ6IFwiLi9kaXN0L25leHQubWpzXCIsXG4gICAgICAgICAgcmVxdWlyZTogXCIuL2Rpc3QvbmV4dC5qc1wiXG4gICAgICAgIH0sXG4gICAgICAgIFwiLi9uZXh0LWxlZ2FjeVwiOiB7XG4gICAgICAgICAgdHlwZXM6IFwiLi9kaXN0L25leHQtbGVnYWN5LmQudHNcIixcbiAgICAgICAgICBpbXBvcnQ6IFwiLi9kaXN0L25leHQtbGVnYWN5Lm1qc1wiLFxuICAgICAgICAgIHJlcXVpcmU6IFwiLi9kaXN0L25leHQtbGVnYWN5LmpzXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCIuL2V4cHJlc3NcIjoge1xuICAgICAgICAgIGltcG9ydDogXCIuL2Rpc3QvZXhwcmVzcy5tanNcIixcbiAgICAgICAgICB0eXBlczogXCIuL2Rpc3QvZXhwcmVzcy5kLnRzXCIsXG4gICAgICAgICAgcmVxdWlyZTogXCIuL2Rpc3QvZXhwcmVzcy5qc1wiXG4gICAgICAgIH0sXG4gICAgICAgIFwiLi90d1wiOiB7XG4gICAgICAgICAgdHlwZXM6IFwiLi9kaXN0L3R3LmQudHNcIixcbiAgICAgICAgICBpbXBvcnQ6IFwiLi9kaXN0L3R3Lm1qc1wiLFxuICAgICAgICAgIHJlcXVpcmU6IFwiLi9kaXN0L3R3LmpzXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCIuL2Zhc3RpZnlcIjoge1xuICAgICAgICAgIHR5cGVzOiBcIi4vZGlzdC9mYXN0aWZ5LmQudHNcIixcbiAgICAgICAgICBpbXBvcnQ6IFwiLi9kaXN0L2Zhc3RpZnkubWpzXCIsXG4gICAgICAgICAgcmVxdWlyZTogXCIuL2Rpc3QvZmFzdGlmeS5qc1wiXG4gICAgICAgIH0sXG4gICAgICAgIFwiLi9oM1wiOiB7XG4gICAgICAgICAgdHlwZXM6IFwiLi9kaXN0L2gzLmQudHNcIixcbiAgICAgICAgICBpbXBvcnQ6IFwiLi9kaXN0L2gzLm1qc1wiLFxuICAgICAgICAgIHJlcXVpcmU6IFwiLi9kaXN0L2gzLmpzXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGZpbGVzOiBbXG4gICAgICAgIFwiZGlzdFwiXG4gICAgICBdLFxuICAgICAgcHVibGlzaENvbmZpZzoge1xuICAgICAgICBhY2Nlc3M6IFwicHVibGljXCJcbiAgICAgIH0sXG4gICAgICB0eXBlc1ZlcnNpb25zOiB7XG4gICAgICAgIFwiKlwiOiB7XG4gICAgICAgICAgY2xpZW50OiBbXG4gICAgICAgICAgICBcImRpc3QvY2xpZW50LmQudHNcIlxuICAgICAgICAgIF0sXG4gICAgICAgICAgc2VydmVyOiBbXG4gICAgICAgICAgICBcImRpc3Qvc2VydmVyLmQudHNcIlxuICAgICAgICAgIF0sXG4gICAgICAgICAgbmV4dDogW1xuICAgICAgICAgICAgXCJkaXN0L25leHQuZC50c1wiXG4gICAgICAgICAgXSxcbiAgICAgICAgICBcIm5leHQtbGVnYWN5XCI6IFtcbiAgICAgICAgICAgIFwiZGlzdC9uZXh0LWxlZ2FjeS5kLnRzXCJcbiAgICAgICAgICBdLFxuICAgICAgICAgIHR3OiBbXG4gICAgICAgICAgICBcImRpc3QvdHcuZC50c1wiXG4gICAgICAgICAgXSxcbiAgICAgICAgICBleHByZXNzOiBbXG4gICAgICAgICAgICBcImRpc3QvZXhwcmVzcy5kLnRzXCJcbiAgICAgICAgICBdLFxuICAgICAgICAgIGZhc3RpZnk6IFtcbiAgICAgICAgICAgIFwiZGlzdC9mYXN0aWZ5LmQudHNcIlxuICAgICAgICAgIF0sXG4gICAgICAgICAgaDM6IFtcbiAgICAgICAgICAgIFwiZGlzdC9oMy5kLnRzXCJcbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzY3JpcHRzOiB7XG4gICAgICAgIGxpbnQ6ICdlc2xpbnQgXCIqKi8qLnt0cyx0c3h9XCIgLS1tYXgtd2FybmluZ3MgMCcsXG4gICAgICAgIGJ1aWxkOiBcInRzdXBcIixcbiAgICAgICAgY2xlYW46IFwiZ2l0IGNsZWFuIC14ZGYgZGlzdCBub2RlX21vZHVsZXNcIixcbiAgICAgICAgZGV2OiBcInRzdXAgLS13YXRjaFwiLFxuICAgICAgICB0ZXN0OiBcInZpdGVzdCBydW5cIixcbiAgICAgICAgXCJ0ZXN0OndhdGNoXCI6IFwidml0ZXN0XCIsXG4gICAgICAgIHR5cGVjaGVjazogXCJ0c2MgLS1ub0VtaXRcIlxuICAgICAgfSxcbiAgICAgIGRlcGVuZGVuY2llczoge1xuICAgICAgICBcIkB1cGxvYWR0aGluZy9taW1lLXR5cGVzXCI6IFwiXjAuMi4yXCIsXG4gICAgICAgIFwiQHVwbG9hZHRoaW5nL3NoYXJlZFwiOiBcIl41LjIuN1wiXG4gICAgICB9LFxuICAgICAgZGV2RGVwZW5kZW5jaWVzOiB7XG4gICAgICAgIFwiQHR5cGVzL2V4cHJlc3NcIjogXCJeNC4xNy4xN1wiLFxuICAgICAgICBcIkB0eXBlcy9yZWFjdFwiOiBcIjE4LjIuMzNcIixcbiAgICAgICAgXCJAdXBsb2FkdGhpbmcvZXNsaW50LWNvbmZpZ1wiOiBcIjAuMi4wXCIsXG4gICAgICAgIFwiQHVwbG9hZHRoaW5nL3RzY29uZmlnXCI6IFwiMC4xLjBcIixcbiAgICAgICAgXCJAdXBsb2FkdGhpbmcvdHN1cC1jb25maWdcIjogXCIwLjEuMFwiLFxuICAgICAgICBlc2xpbnQ6IFwiXjguNDcuMFwiLFxuICAgICAgICBleHByZXNzOiBcIl40LjE4LjJcIixcbiAgICAgICAgZmFzdGlmeTogXCJeNC4yMy4yXCIsXG4gICAgICAgIGgzOiBcIl4xLjguMVwiLFxuICAgICAgICBuZXh0OiBcIjE0LjAuMVwiLFxuICAgICAgICBcInNvbGlkLWpzXCI6IFwiXjEuNy4xMVwiLFxuICAgICAgICB0YWlsd2luZGNzczogXCJeMy4zLjJcIixcbiAgICAgICAgdHN1cDogXCI2LjcuMFwiLFxuICAgICAgICBcInR5cGUtZmVzdFwiOiBcIl4zLjExLjFcIixcbiAgICAgICAgdHlwZXNjcmlwdDogXCJeNS4xLjZcIixcbiAgICAgICAgdW5kaWNpOiBcIl41LjIwLjBcIixcbiAgICAgICAgdml0ZXN0OiBcIl4wLjMwLjFcIixcbiAgICAgICAgem9kOiBcIl4zLjIyLjNcIlxuICAgICAgfSxcbiAgICAgIGVzbGludENvbmZpZzoge1xuICAgICAgICByb290OiB0cnVlLFxuICAgICAgICBleHRlbmRzOiBbXG4gICAgICAgICAgXCJAdXBsb2FkdGhpbmcvZXNsaW50LWNvbmZpZy9iYXNlXCJcbiAgICAgICAgXVxuICAgICAgfVxuICAgIH07XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29uc3RhbnRzLnRzXG52YXIgcGFja2FnZUpzb24gPSByZXF1aXJlX3BhY2thZ2UoKTtcbmlmICghcGFja2FnZUpzb24udmVyc2lvbilcbiAgdGhyb3cgbmV3IEVycm9yKFwibm8gdmVyc2lvbiBmb3VuZCBpbiBwYWNrYWdlLmpzb25cIik7XG52YXIgVVBMT0FEVEhJTkdfVkVSU0lPTiA9IHBhY2thZ2VKc29uLnZlcnNpb247XG5cbi8vIHNyYy9pbnRlcm5hbC9lcnJvci1mb3JtYXR0ZXIudHNcbmZ1bmN0aW9uIGRlZmF1bHRFcnJvckZvcm1hdHRlcihlcnJvcikge1xuICByZXR1cm4ge1xuICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2VcbiAgfTtcbn1cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKGVycm9yLCByb3V0ZXIpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBlcnJvckZvcm1hdHRlciA9ICgoX2EgPSByb3V0ZXJbT2JqZWN0LmtleXMocm91dGVyKVswXV0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5fZGVmLmVycm9yRm9ybWF0dGVyKSA/PyBkZWZhdWx0RXJyb3JGb3JtYXR0ZXI7XG4gIHJldHVybiBlcnJvckZvcm1hdHRlcihlcnJvcik7XG59XG5cbi8vIHNyYy9pbnRlcm5hbC90eXBlcy50c1xudmFyIHVuc2V0TWFya2VyID0gXCJ1bnNldE1hcmtlclwiO1xudmFyIFZBTElEX0FDVElPTl9UWVBFUyA9IFtcInVwbG9hZFwiLCBcImZhaWx1cmVcIl07XG5cbi8vIHNyYy9pbnRlcm5hbC9oYW5kbGVyLnRzXG5pbXBvcnQge1xuICBnZW5lcmF0ZVVwbG9hZFRoaW5nVVJMLFxuICBnZXRUeXBlRnJvbUZpbGVOYW1lLFxuICBnZXRVcGxvYWR0aGluZ1VybCxcbiAgb2JqZWN0S2V5cyxcbiAgZmlsbElucHV0Um91dGVDb25maWcgYXMgcGFyc2VBbmRFeHBhbmRJbnB1dENvbmZpZyxcbiAgc2FmZVBhcnNlSlNPTixcbiAgVXBsb2FkVGhpbmdFcnJvciBhcyBVcGxvYWRUaGluZ0Vycm9yMlxufSBmcm9tIFwiQHVwbG9hZHRoaW5nL3NoYXJlZFwiO1xuXG4vLyBzcmMvaW50ZXJuYWwvZGV2LWhvb2sudHNcbmltcG9ydCB7IHBvbGxGb3JGaWxlRGF0YSwgVXBsb2FkVGhpbmdFcnJvciB9IGZyb20gXCJAdXBsb2FkdGhpbmcvc2hhcmVkXCI7XG52YXIgaXNWYWxpZFJlc3BvbnNlID0gKHJlc3BvbnNlKSA9PiB7XG4gIGlmICghcmVzcG9uc2Uub2spXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDQwMClcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmICghcmVzcG9uc2UuaGVhZGVycy5oYXMoXCJ4LXVwbG9hZHRoaW5nLXZlcnNpb25cIikpXG4gICAgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gdHJ1ZTtcbn07XG52YXIgY29uZGl0aW9uYWxEZXZTZXJ2ZXIgPSBhc3luYyAoZmlsZUtleSkgPT4ge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwiZGV2ZWxvcG1lbnRcIilcbiAgICByZXR1cm47XG4gIGNvbnN0IGZpbGVEYXRhID0gYXdhaXQgcG9sbEZvckZpbGVEYXRhKFxuICAgIGZpbGVLZXksXG4gICAgYXN5bmMgKGpzb24pID0+IHtcbiAgICAgIGNvbnN0IGZpbGUgPSBqc29uLmZpbGVEYXRhO1xuICAgICAgbGV0IGNhbGxiYWNrVXJsID0gZmlsZS5jYWxsYmFja1VybCArIGA/c2x1Zz0ke2ZpbGUuY2FsbGJhY2tTbHVnfWA7XG4gICAgICBpZiAoIWNhbGxiYWNrVXJsLnN0YXJ0c1dpdGgoXCJodHRwXCIpKVxuICAgICAgICBjYWxsYmFja1VybCA9IFwiaHR0cDovL1wiICsgY2FsbGJhY2tVcmw7XG4gICAgICBjb25zb2xlLmxvZyhcIltVVF0gU0lNVUxBVElORyBGSUxFIFVQTE9BRCBXRUJIT09LIENBTExCQUNLXCIsIGNhbGxiYWNrVXJsKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY2FsbGJhY2tVcmwsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHN0YXR1czogXCJ1cGxvYWRlZFwiLFxuICAgICAgICAgIG1ldGFkYXRhOiBKU09OLnBhcnNlKGZpbGUubWV0YWRhdGEgPz8gXCJ7fVwiKSxcbiAgICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1cmw6IGBodHRwczovL3V0ZnMuaW8vZi8ke2VuY29kZVVSSUNvbXBvbmVudChmaWxlS2V5KX1gLFxuICAgICAgICAgICAga2V5OiBmaWxlS2V5LFxuICAgICAgICAgICAgbmFtZTogZmlsZS5maWxlTmFtZSxcbiAgICAgICAgICAgIHNpemU6IGZpbGUuZmlsZVNpemVcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJ1cGxvYWR0aGluZy1ob29rXCI6IFwiY2FsbGJhY2tcIlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChpc1ZhbGlkUmVzcG9uc2UocmVzcG9uc2UpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiW1VUXSBTdWNjZXNzZnVsbHkgc2ltdWxhdGVkIGNhbGxiYWNrIGZvciBmaWxlXCIsIGZpbGVLZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIltVVF0gRmFpbGVkIHRvIHNpbXVsYXRlIGNhbGxiYWNrIGZvciBmaWxlLiBJcyB5b3VyIHdlYmhvb2sgY29uZmlndXJlZCBjb3JyZWN0bHk/XCIsXG4gICAgICAgICAgZmlsZUtleVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZpbGU7XG4gICAgfVxuICApO1xuICBpZiAoZmlsZURhdGEgIT09IG51bGwpXG4gICAgcmV0dXJuIGZpbGVEYXRhO1xuICBjb25zb2xlLmVycm9yKGBbVVRdIEZhaWxlZCB0byBzaW11bGF0ZSBjYWxsYmFjayBmb3IgZmlsZSAke2ZpbGVLZXl9YCk7XG4gIHRocm93IG5ldyBVcGxvYWRUaGluZ0Vycm9yKHtcbiAgICBjb2RlOiBcIlVQTE9BRF9GQUlMRURcIixcbiAgICBtZXNzYWdlOiBcIkZpbGUgdG9vayB0b28gbG9uZyB0byB1cGxvYWRcIlxuICB9KTtcbn07XG5cbi8vIHNyYy9pbnRlcm5hbC9wYXJzZXIudHNcbmZ1bmN0aW9uIGdldFBhcnNlRm4ocGFyc2VyKSB7XG4gIGlmICh0eXBlb2YgcGFyc2VyLnBhcnNlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gcGFyc2VyLnBhcnNlO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFyc2VyXCIpO1xufVxuXG4vLyBzcmMvaW50ZXJuYWwvaGFuZGxlci50c1xudmFyIGZpbGVDb3VudExpbWl0SGl0ID0gKGZpbGVzLCByb3V0ZUNvbmZpZykgPT4ge1xuICB2YXIgX2E7XG4gIGNvbnN0IGNvdW50cyA9IHt9O1xuICBmaWxlcy5mb3JFYWNoKChmaWxlKSA9PiB7XG4gICAgY29uc3QgdHlwZSA9IGdldFR5cGVGcm9tRmlsZU5hbWUoZmlsZSwgb2JqZWN0S2V5cyhyb3V0ZUNvbmZpZykpO1xuICAgIGlmICghY291bnRzW3R5cGVdKSB7XG4gICAgICBjb3VudHNbdHlwZV0gPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudHNbdHlwZV0gKz0gMTtcbiAgICB9XG4gIH0pO1xuICBmb3IgKGNvbnN0IF9rZXkgaW4gY291bnRzKSB7XG4gICAgY29uc3Qga2V5ID0gX2tleTtcbiAgICBjb25zdCBjb3VudCA9IGNvdW50c1trZXldO1xuICAgIGNvbnN0IGxpbWl0ID0gKF9hID0gcm91dGVDb25maWdba2V5XSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm1heEZpbGVDb3VudDtcbiAgICBpZiAoIWxpbWl0KSB7XG4gICAgICBjb25zb2xlLmVycm9yKHJvdXRlQ29uZmlnLCBrZXkpO1xuICAgICAgdGhyb3cgbmV3IFVwbG9hZFRoaW5nRXJyb3IyKHtcbiAgICAgICAgY29kZTogXCJCQURfUkVRVUVTVFwiLFxuICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgY29uZmlnIGR1cmluZyBmaWxlIGNvdW50XCIsXG4gICAgICAgIGNhdXNlOiBgRXhwZWN0ZWQgcm91dGUgY29uZmlnIHRvIGhhdmUgYSBtYXhGaWxlQ291bnQgZm9yIGtleSAke2tleX0gYnV0IG5vbmUgd2FzIGZvdW5kLmBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoY291bnQgPiBsaW1pdCkge1xuICAgICAgcmV0dXJuIHsgbGltaXRIaXQ6IHRydWUsIHR5cGU6IGtleSwgbGltaXQsIGNvdW50IH07XG4gICAgfVxuICB9XG4gIHJldHVybiB7IGxpbWl0SGl0OiBmYWxzZSB9O1xufTtcbnZhciBnZXRIZWFkZXIgPSAocmVxLCBrZXkpID0+IHtcbiAgaWYgKHJlcS5oZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgIHJldHVybiByZXEuaGVhZGVycy5nZXQoa2V5KTtcbiAgfVxuICByZXR1cm4gcmVxLmhlYWRlcnNba2V5XTtcbn07XG52YXIgYnVpbGRSZXF1ZXN0SGFuZGxlciA9IChvcHRzKSA9PiB7XG4gIHJldHVybiBhc3luYyAoaW5wdXQpID0+IHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgY29uc29sZS5sb2coXCJbVVRdIFVwbG9hZFRoaW5nIGRldiBzZXJ2ZXIgaXMgbm93IHJ1bm5pbmchXCIpO1xuICAgIH1cbiAgICBjb25zdCB7IHJlcSwgcmVzLCBldmVudCB9ID0gaW5wdXQ7XG4gICAgY29uc3QgeyByb3V0ZXIsIGNvbmZpZyB9ID0gb3B0cztcbiAgICBjb25zdCBwcmVmZXJyZWRPckVudlNlY3JldCA9IChjb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZy51cGxvYWR0aGluZ1NlY3JldCkgPz8gcHJvY2Vzcy5lbnYuVVBMT0FEVEhJTkdfU0VDUkVUO1xuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkwocmVxLnVybCA/PyBcIlwiLCBnZXRVcGxvYWR0aGluZ1VybCgpKS5zZWFyY2hQYXJhbXM7XG4gICAgY29uc3QgdXBsb2FkdGhpbmdIb29rID0gZ2V0SGVhZGVyKHJlcSwgXCJ1cGxvYWR0aGluZy1ob29rXCIpID8/IHZvaWQgMDtcbiAgICBjb25zdCBzbHVnID0gcGFyYW1zLmdldChcInNsdWdcIikgPz8gdm9pZCAwO1xuICAgIGNvbnN0IGFjdGlvblR5cGUgPSBwYXJhbXMuZ2V0KFwiYWN0aW9uVHlwZVwiKSA/PyB2b2lkIDA7XG4gICAgaWYgKCFzbHVnKVxuICAgICAgcmV0dXJuIG5ldyBVcGxvYWRUaGluZ0Vycm9yMih7XG4gICAgICAgIGNvZGU6IFwiQkFEX1JFUVVFU1RcIixcbiAgICAgICAgbWVzc2FnZTogXCJObyBzbHVnIHByb3ZpZGVkXCJcbiAgICAgIH0pO1xuICAgIGlmIChzbHVnICYmIHR5cGVvZiBzbHVnICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gbmV3IFVwbG9hZFRoaW5nRXJyb3IyKHtcbiAgICAgICAgY29kZTogXCJCQURfUkVRVUVTVFwiLFxuICAgICAgICBtZXNzYWdlOiBcImBzbHVnYCBtdXN0IGJlIGEgc3RyaW5nXCIsXG4gICAgICAgIGNhdXNlOiBgRXhwZWN0ZWQgc2x1ZyB0byBiZSBvZiB0eXBlICdzdHJpbmcnLCBnb3QgJyR7dHlwZW9mIHNsdWd9J2BcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoYWN0aW9uVHlwZSAmJiB0eXBlb2YgYWN0aW9uVHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIG5ldyBVcGxvYWRUaGluZ0Vycm9yMih7XG4gICAgICAgIGNvZGU6IFwiQkFEX1JFUVVFU1RcIixcbiAgICAgICAgbWVzc2FnZTogXCJgYWN0aW9uVHlwZWAgbXVzdCBiZSBhIHN0cmluZ1wiLFxuICAgICAgICBjYXVzZTogYEV4cGVjdGVkIGFjdGlvblR5cGUgdG8gYmUgb2YgdHlwZSAnc3RyaW5nJywgZ290ICcke3R5cGVvZiBhY3Rpb25UeXBlfSdgXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHVwbG9hZHRoaW5nSG9vayAmJiB0eXBlb2YgdXBsb2FkdGhpbmdIb29rICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gbmV3IFVwbG9hZFRoaW5nRXJyb3IyKHtcbiAgICAgICAgY29kZTogXCJCQURfUkVRVUVTVFwiLFxuICAgICAgICBtZXNzYWdlOiBcImB1cGxvYWR0aGluZ0hvb2tgIG11c3QgYmUgYSBzdHJpbmdcIixcbiAgICAgICAgY2F1c2U6IGBFeHBlY3RlZCB1cGxvYWR0aGluZ0hvb2sgdG8gYmUgb2YgdHlwZSAnc3RyaW5nJywgZ290ICcke3R5cGVvZiB1cGxvYWR0aGluZ0hvb2t9J2BcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIXByZWZlcnJlZE9yRW52U2VjcmV0KSB7XG4gICAgICByZXR1cm4gbmV3IFVwbG9hZFRoaW5nRXJyb3IyKHtcbiAgICAgICAgY29kZTogXCJCQURfUkVRVUVTVFwiLFxuICAgICAgICBtZXNzYWdlOiBgUGxlYXNlIHNldCB5b3VyIHByZWZlcnJlZCBzZWNyZXQgaW4gJHtzbHVnfSByb3V0ZXIncyBjb25maWcgb3Igc2V0IFVQTE9BRFRISU5HX1NFQ1JFVCBpbiB5b3VyIGVudiBmaWxlYCxcbiAgICAgICAgY2F1c2U6IFwiTm8gc2VjcmV0IHByb3ZpZGVkXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB1cGxvYWRhYmxlID0gcm91dGVyW3NsdWddO1xuICAgIGlmICghdXBsb2FkYWJsZSkge1xuICAgICAgcmV0dXJuIG5ldyBVcGxvYWRUaGluZ0Vycm9yMih7XG4gICAgICAgIGNvZGU6IFwiTk9UX0ZPVU5EXCIsXG4gICAgICAgIG1lc3NhZ2U6IGBObyBmaWxlIHJvdXRlIGZvdW5kIGZvciBzbHVnICR7c2x1Z31gXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHVwbG9hZHRoaW5nSG9vayA9PT0gXCJjYWxsYmFja1wiKSB7XG4gICAgICBjb25zdCBtYXliZVJlcUJvZHkgPSBhd2FpdCBzYWZlUGFyc2VKU09OKHJlcSk7XG4gICAgICBpZiAobWF5YmVSZXFCb2R5IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVcGxvYWRUaGluZ0Vycm9yMih7XG4gICAgICAgICAgY29kZTogXCJCQURfUkVRVUVTVFwiLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiSW52YWxpZCByZXF1ZXN0IGJvZHlcIixcbiAgICAgICAgICBjYXVzZTogbWF5YmVSZXFCb2R5XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgYXdhaXQgdXBsb2FkYWJsZS5yZXNvbHZlcih7XG4gICAgICAgIGZpbGU6IG1heWJlUmVxQm9keS5maWxlLFxuICAgICAgICBtZXRhZGF0YTogbWF5YmVSZXFCb2R5Lm1ldGFkYXRhXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IHN0YXR1czogMjAwIH07XG4gICAgfVxuICAgIGlmICghYWN0aW9uVHlwZSB8fCAhVkFMSURfQUNUSU9OX1RZUEVTLmluY2x1ZGVzKGFjdGlvblR5cGUpKSB7XG4gICAgICByZXR1cm4gbmV3IFVwbG9hZFRoaW5nRXJyb3IyKHtcbiAgICAgICAgY29kZTogXCJCQURfUkVRVUVTVFwiLFxuICAgICAgICBjYXVzZTogYEludmFsaWQgYWN0aW9uIHR5cGUgJHthY3Rpb25UeXBlfWAsXG4gICAgICAgIG1lc3NhZ2U6IGBFeHBlY3RlZCAke1ZBTElEX0FDVElPTl9UWVBFUy5tYXAoKHgpID0+IGBcIiR7eH1cImApLmpvaW4oXCIsIFwiKS5yZXBsYWNlKC8sKD8hLiosKS8sIFwiIG9yXCIpfSBidXQgZ290IFwiJHtcImFcIn1cImBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBzd2l0Y2ggKGFjdGlvblR5cGUpIHtcbiAgICAgIGNhc2UgXCJ1cGxvYWRcIjoge1xuICAgICAgICBjb25zdCBtYXliZUlucHV0ID0gYXdhaXQgc2FmZVBhcnNlSlNPTihyZXEpO1xuICAgICAgICBpZiAobWF5YmVJbnB1dCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVcGxvYWRUaGluZ0Vycm9yMih7XG4gICAgICAgICAgICBjb2RlOiBcIkJBRF9SRVFVRVNUXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgcmVxdWVzdCBib2R5XCIsXG4gICAgICAgICAgICBjYXVzZTogbWF5YmVJbnB1dFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgZmlsZXMsIGlucHV0OiB1c2VySW5wdXQgfSA9IG1heWJlSW5wdXQ7XG4gICAgICAgIGxldCBwYXJzZWRJbnB1dCA9IHt9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGlucHV0UGFyc2VyID0gdXBsb2FkYWJsZS5fZGVmLmlucHV0UGFyc2VyO1xuICAgICAgICAgIHBhcnNlZElucHV0ID0gYXdhaXQgZ2V0UGFyc2VGbihpbnB1dFBhcnNlcikodXNlcklucHV0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICByZXR1cm4gbmV3IFVwbG9hZFRoaW5nRXJyb3IyKHtcbiAgICAgICAgICAgIGNvZGU6IFwiQkFEX1JFUVVFU1RcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiSW52YWxpZCBpbnB1dC5cIixcbiAgICAgICAgICAgIGNhdXNlOiBlcnJvclxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtZXRhZGF0YSA9IHt9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG1ldGFkYXRhID0gYXdhaXQgdXBsb2FkYWJsZS5fZGVmLm1pZGRsZXdhcmUoe1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXNzaWdubWVudFxuICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXNzaWdubWVudFxuICAgICAgICAgICAgcmVzLFxuICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICBpbnB1dDogcGFyc2VkSW5wdXRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICByZXR1cm4gbmV3IFVwbG9hZFRoaW5nRXJyb3IyKHtcbiAgICAgICAgICAgIGNvZGU6IFwiSU5URVJOQUxfU0VSVkVSX0VSUk9SXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byBydW4gbWlkZGxld2FyZS5cIixcbiAgICAgICAgICAgIGNhdXNlOiBlcnJvclxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShmaWxlcykgfHwgIWZpbGVzLmV2ZXJ5KChmKSA9PiB0eXBlb2YgZiA9PT0gXCJzdHJpbmdcIikpXG4gICAgICAgICAgcmV0dXJuIG5ldyBVcGxvYWRUaGluZ0Vycm9yMih7XG4gICAgICAgICAgICBjb2RlOiBcIkJBRF9SRVFVRVNUXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBcIkZpbGVzIG11c3QgYmUgYSBzdHJpbmcgYXJyYXlcIixcbiAgICAgICAgICAgIGNhdXNlOiBgRXhwZWN0ZWQgZmlsZXMgdG8gYmUgb2YgdHlwZSAnc3RyaW5nW10nLCBnb3QgJyR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgIGZpbGVzXG4gICAgICAgICAgICApfSdgXG4gICAgICAgICAgfSk7XG4gICAgICAgIGxldCBwYXJzZWRDb25maWc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcGFyc2VkQ29uZmlnID0gcGFyc2VBbmRFeHBhbmRJbnB1dENvbmZpZyhcbiAgICAgICAgICAgIHVwbG9hZGFibGUuX2RlZi5yb3V0ZXJDb25maWdcbiAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgIHJldHVybiBuZXcgVXBsb2FkVGhpbmdFcnJvcjIoe1xuICAgICAgICAgICAgY29kZTogXCJCQURfUkVRVUVTVFwiLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIGNvbmZpZy5cIixcbiAgICAgICAgICAgIGNhdXNlOiBlcnJvclxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgeyBsaW1pdEhpdCwgY291bnQsIGxpbWl0LCB0eXBlIH0gPSBmaWxlQ291bnRMaW1pdEhpdChcbiAgICAgICAgICAgIGZpbGVzLFxuICAgICAgICAgICAgcGFyc2VkQ29uZmlnXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAobGltaXRIaXQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVXBsb2FkVGhpbmdFcnJvcjIoe1xuICAgICAgICAgICAgICBjb2RlOiBcIkJBRF9SRVFVRVNUXCIsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRmlsZSBsaW1pdCBleGNlZWRlZFwiLFxuICAgICAgICAgICAgICBjYXVzZTogYFlvdSB1cGxvYWRlZCAke2NvdW50fSBmaWxlcyBvZiB0eXBlICcke3R5cGV9JywgYnV0IHRoZSBsaW1pdCBmb3IgdGhhdCB0eXBlIGlzICR7bGltaXR9YFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgIHJldHVybiBuZXcgVXBsb2FkVGhpbmdFcnJvcjIoe1xuICAgICAgICAgICAgY29kZTogXCJCQURfUkVRVUVTVFwiLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIGNvbmZpZy5cIixcbiAgICAgICAgICAgIGNhdXNlOiBlcnJvclxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwbG9hZHRoaW5nQXBpUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBnZW5lcmF0ZVVwbG9hZFRoaW5nVVJMKFwiL2FwaS9wcmVwYXJlVXBsb2FkXCIpLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIGZpbGVzLFxuICAgICAgICAgICAgICByb3V0ZUNvbmZpZzogcGFyc2VkQ29uZmlnLFxuICAgICAgICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgICAgICAgY2FsbGJhY2tVcmw6IChjb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZy5jYWxsYmFja1VybCkgPz8gZ2V0VXBsb2FkdGhpbmdVcmwoKSxcbiAgICAgICAgICAgICAgY2FsbGJhY2tTbHVnOiBzbHVnXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICAgIFwieC11cGxvYWR0aGluZy1hcGkta2V5XCI6IHByZWZlcnJlZE9yRW52U2VjcmV0LFxuICAgICAgICAgICAgICBcIngtdXBsb2FkdGhpbmctdmVyc2lvblwiOiBVUExPQURUSElOR19WRVJTSU9OXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBwYXJzZWRSZXNwb25zZSA9IGF3YWl0IHNhZmVQYXJzZUpTT04oXG4gICAgICAgICAgdXBsb2FkdGhpbmdBcGlSZXNwb25zZVxuICAgICAgICApO1xuICAgICAgICBpZiAoIXVwbG9hZHRoaW5nQXBpUmVzcG9uc2Uub2sgfHwgcGFyc2VkUmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbVVRdIHVuYWJsZSB0byBnZXQgcHJlc2lnbmVkIHVybHNcIik7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVcGxvYWRUaGluZ0Vycm9yMih7XG4gICAgICAgICAgICBjb2RlOiBcIlVSTF9HRU5FUkFUSU9OX0ZBSUxFRFwiLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJVbmFibGUgdG8gZ2V0IHByZXNpZ25lZCB1cmxzXCIsXG4gICAgICAgICAgICBjYXVzZTogcGFyc2VkUmVzcG9uc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBwYXJzZWRSZXNwb25zZSkge1xuICAgICAgICAgICAgdm9pZCBjb25kaXRpb25hbERldlNlcnZlcihmaWxlLmtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGJvZHk6IHBhcnNlZFJlc3BvbnNlLCBzdGF0dXM6IDIwMCB9O1xuICAgICAgfVxuICAgICAgY2FzZSBcImZhaWx1cmVcIjoge1xuICAgICAgICBjb25zdCBtYXliZVJlcUJvZHkgPSBhd2FpdCBzYWZlUGFyc2VKU09OKHJlcSk7XG4gICAgICAgIGlmIChtYXliZVJlcUJvZHkgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIHJldHVybiBuZXcgVXBsb2FkVGhpbmdFcnJvcjIoe1xuICAgICAgICAgICAgY29kZTogXCJCQURfUkVRVUVTVFwiLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIHJlcXVlc3QgYm9keVwiLFxuICAgICAgICAgICAgY2F1c2U6IG1heWJlUmVxQm9keVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgZmlsZUtleSB9ID0gbWF5YmVSZXFCb2R5O1xuICAgICAgICBjb25zdCB1cGxvYWR0aGluZ0FwaVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgZ2VuZXJhdGVVcGxvYWRUaGluZ1VSTChcIi9hcGkvZmFpbHVyZUNhbGxiYWNrXCIpLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIGZpbGVLZXlcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgXCJ4LXVwbG9hZHRoaW5nLWFwaS1rZXlcIjogcHJlZmVycmVkT3JFbnZTZWNyZXQsXG4gICAgICAgICAgICAgIFwieC11cGxvYWR0aGluZy12ZXJzaW9uXCI6IFVQTE9BRFRISU5HX1ZFUlNJT05cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIGlmICghdXBsb2FkdGhpbmdBcGlSZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbVVRdIGZhaWxlZCB0byBtYXJrIHVwbG9hZCBhcyBmYWlsZWRcIik7XG4gICAgICAgICAgY29uc3QgcGFyc2VkUmVzcG9uc2UgPSBhd2FpdCBzYWZlUGFyc2VKU09OKFxuICAgICAgICAgICAgdXBsb2FkdGhpbmdBcGlSZXNwb25zZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVcGxvYWRUaGluZ0Vycm9yMih7XG4gICAgICAgICAgICBjb2RlOiBcIlVSTF9HRU5FUkFUSU9OX0ZBSUxFRFwiLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJVbmFibGUgdG8gZ2V0IHByZXNpZ25lZCB1cmxzXCIsXG4gICAgICAgICAgICBjYXVzZTogcGFyc2VkUmVzcG9uc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHVwbG9hZGFibGUuX2RlZi5vblVwbG9hZEVycm9yKHtcbiAgICAgICAgICAgIGVycm9yOiBuZXcgVXBsb2FkVGhpbmdFcnJvcjIoe1xuICAgICAgICAgICAgICBjb2RlOiBcIlVQTE9BRF9GQUlMRURcIixcbiAgICAgICAgICAgICAgbWVzc2FnZTogYFVwbG9hZCBmYWlsZWQgZm9yICR7ZmlsZUtleX1gXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZpbGVLZXlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJbVVRdIEZhaWxlZCB0byBydW4gb25VcGxvYWRFcnJvciBjYWxsYmFjay4gWW91IHByb2JhYmx5IHNob3VsZG4ndCBiZSB0aHJvd2luZyBlcnJvcnMgaW4geW91ciBjYWxsYmFjay5cIlxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVcGxvYWRUaGluZ0Vycm9yMih7XG4gICAgICAgICAgICBjb2RlOiBcIklOVEVSTkFMX1NFUlZFUl9FUlJPUlwiLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gcnVuIG9uVXBsb2FkRXJyb3IgY2FsbGJhY2tcIixcbiAgICAgICAgICAgIGNhdXNlOiBlcnJvclxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogMjAwIH07XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHJldHVybiBuZXcgVXBsb2FkVGhpbmdFcnJvcjIoe1xuICAgICAgICAgIGNvZGU6IFwiQkFEX1JFUVVFU1RcIixcbiAgICAgICAgICBtZXNzYWdlOiBgSW52YWxpZCBhY3Rpb24gdHlwZWBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcbnZhciBidWlsZFBlcm1pc3Npb25zSW5mb0hhbmRsZXIgPSAob3B0cykgPT4ge1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGNvbnN0IHIgPSBvcHRzLnJvdXRlcjtcbiAgICBjb25zdCBwZXJtaXNzaW9ucyA9IE9iamVjdC5rZXlzKHIpLm1hcCgoaykgPT4ge1xuICAgICAgY29uc3Qgcm91dGUgPSByW2tdO1xuICAgICAgY29uc3QgY29uZmlnID0gcGFyc2VBbmRFeHBhbmRJbnB1dENvbmZpZyhyb3V0ZS5fZGVmLnJvdXRlckNvbmZpZyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzbHVnOiBrLFxuICAgICAgICBjb25maWdcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIHBlcm1pc3Npb25zO1xuICB9O1xufTtcblxuLy8gc3JjL2ludGVybmFsL3VwbG9hZC1idWlsZGVyLnRzXG5mdW5jdGlvbiBpbnRlcm5hbENyZWF0ZUJ1aWxkZXIoaW5pdERlZiA9IHt9KSB7XG4gIGNvbnN0IF9kZWYgPSB7XG4gICAgLy8gRGVmYXVsdCByb3V0ZXIgY29uZmlnXG4gICAgcm91dGVyQ29uZmlnOiB7XG4gICAgICBpbWFnZToge1xuICAgICAgICBtYXhGaWxlU2l6ZTogXCI0TUJcIlxuICAgICAgfVxuICAgIH0sXG4gICAgaW5wdXRQYXJzZXI6IHsgcGFyc2U6ICgpID0+ICh7fSksIF9pbnB1dDoge30sIF9vdXRwdXQ6IHt9IH0sXG4gICAgbWlkZGxld2FyZTogKCkgPT4gKHt9KSxcbiAgICBvblVwbG9hZEVycm9yOiAoKSA9PiAoe30pLFxuICAgIGVycm9yRm9ybWF0dGVyOiBpbml0RGVmLmVycm9yRm9ybWF0dGVyID8/IGRlZmF1bHRFcnJvckZvcm1hdHRlcixcbiAgICAvLyBPdmVybG9hZCB3aXRoIHByb3BlcnRpZXMgcGFzc2VkIGluXG4gICAgLi4uaW5pdERlZlxuICB9O1xuICByZXR1cm4ge1xuICAgIGlucHV0KHVzZXJQYXJzZXIpIHtcbiAgICAgIHJldHVybiBpbnRlcm5hbENyZWF0ZUJ1aWxkZXIoe1xuICAgICAgICAuLi5fZGVmLFxuICAgICAgICBpbnB1dFBhcnNlcjogdXNlclBhcnNlclxuICAgICAgfSk7XG4gICAgfSxcbiAgICBtaWRkbGV3YXJlKHVzZXJNaWRkbGV3YXJlKSB7XG4gICAgICByZXR1cm4gaW50ZXJuYWxDcmVhdGVCdWlsZGVyKHtcbiAgICAgICAgLi4uX2RlZixcbiAgICAgICAgbWlkZGxld2FyZTogdXNlck1pZGRsZXdhcmVcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25VcGxvYWRDb21wbGV0ZSh1c2VyVXBsb2FkQ29tcGxldGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIF9kZWYsXG4gICAgICAgIHJlc29sdmVyOiB1c2VyVXBsb2FkQ29tcGxldGVcbiAgICAgIH07XG4gICAgfSxcbiAgICBvblVwbG9hZEVycm9yKHVzZXJPblVwbG9hZEVycm9yKSB7XG4gICAgICByZXR1cm4gaW50ZXJuYWxDcmVhdGVCdWlsZGVyKHtcbiAgICAgICAgLi4uX2RlZixcbiAgICAgICAgb25VcGxvYWRFcnJvcjogdXNlck9uVXBsb2FkRXJyb3JcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUJ1aWxkZXIob3B0cykge1xuICByZXR1cm4gKGlucHV0KSA9PiB7XG4gICAgcmV0dXJuIGludGVybmFsQ3JlYXRlQnVpbGRlcih7XG4gICAgICByb3V0ZXJDb25maWc6IGlucHV0LFxuICAgICAgLi4ub3B0c1xuICAgIH0pO1xuICB9O1xufVxuXG5leHBvcnQge1xuICBVUExPQURUSElOR19WRVJTSU9OLFxuICBkZWZhdWx0RXJyb3JGb3JtYXR0ZXIsXG4gIGZvcm1hdEVycm9yLFxuICB1bnNldE1hcmtlcixcbiAgVkFMSURfQUNUSU9OX1RZUEVTLFxuICBidWlsZFJlcXVlc3RIYW5kbGVyLFxuICBidWlsZFBlcm1pc3Npb25zSW5mb0hhbmRsZXIsXG4gIGNyZWF0ZUJ1aWxkZXJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1CUFRIS0pUSy5tanMubWFwIl0sIm5hbWVzIjpbIl9fY29tbW9uSlMiLCJyZXF1aXJlX3BhY2thZ2UiLCJleHBvcnRzIiwibW9kdWxlIiwibmFtZSIsInZlcnNpb24iLCJlbmdpbmVzIiwibm9kZSIsImxpY2Vuc2UiLCJ0eXBlcyIsImltcG9ydCIsInJlcXVpcmUiLCJmaWxlcyIsInB1Ymxpc2hDb25maWciLCJhY2Nlc3MiLCJ0eXBlc1ZlcnNpb25zIiwiY2xpZW50Iiwic2VydmVyIiwibmV4dCIsInR3IiwiZXhwcmVzcyIsImZhc3RpZnkiLCJoMyIsInNjcmlwdHMiLCJsaW50IiwiYnVpbGQiLCJjbGVhbiIsImRldiIsInRlc3QiLCJ0eXBlY2hlY2siLCJkZXBlbmRlbmNpZXMiLCJkZXZEZXBlbmRlbmNpZXMiLCJlc2xpbnQiLCJ0YWlsd2luZGNzcyIsInRzdXAiLCJ0eXBlc2NyaXB0IiwidW5kaWNpIiwidml0ZXN0Iiwiem9kIiwiZXNsaW50Q29uZmlnIiwicm9vdCIsImV4dGVuZHMiLCJwYWNrYWdlSnNvbiIsIkVycm9yIiwiVVBMT0FEVEhJTkdfVkVSU0lPTiIsImRlZmF1bHRFcnJvckZvcm1hdHRlciIsImVycm9yIiwibWVzc2FnZSIsImZvcm1hdEVycm9yIiwicm91dGVyIiwiX2EiLCJlcnJvckZvcm1hdHRlciIsIk9iamVjdCIsImtleXMiLCJfZGVmIiwidW5zZXRNYXJrZXIiLCJWQUxJRF9BQ1RJT05fVFlQRVMiLCJnZW5lcmF0ZVVwbG9hZFRoaW5nVVJMIiwiZ2V0VHlwZUZyb21GaWxlTmFtZSIsImdldFVwbG9hZHRoaW5nVXJsIiwib2JqZWN0S2V5cyIsImZpbGxJbnB1dFJvdXRlQ29uZmlnIiwicGFyc2VBbmRFeHBhbmRJbnB1dENvbmZpZyIsInNhZmVQYXJzZUpTT04iLCJVcGxvYWRUaGluZ0Vycm9yIiwiVXBsb2FkVGhpbmdFcnJvcjIiLCJwb2xsRm9yRmlsZURhdGEiLCJpc1ZhbGlkUmVzcG9uc2UiLCJyZXNwb25zZSIsIm9rIiwic3RhdHVzIiwiaGVhZGVycyIsImhhcyIsImNvbmRpdGlvbmFsRGV2U2VydmVyIiwiZmlsZUtleSIsInByb2Nlc3MiLCJmaWxlRGF0YSIsImpzb24iLCJmaWxlIiwiY2FsbGJhY2tVcmwiLCJjYWxsYmFja1NsdWciLCJzdGFydHNXaXRoIiwiY29uc29sZSIsImxvZyIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtZXRhZGF0YSIsInBhcnNlIiwidXJsIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwia2V5IiwiZmlsZU5hbWUiLCJzaXplIiwiZmlsZVNpemUiLCJjb2RlIiwiZ2V0UGFyc2VGbiIsInBhcnNlciIsImZpbGVDb3VudExpbWl0SGl0Iiwicm91dGVDb25maWciLCJjb3VudHMiLCJmb3JFYWNoIiwidHlwZSIsIl9rZXkiLCJjb3VudCIsImxpbWl0IiwibWF4RmlsZUNvdW50IiwiY2F1c2UiLCJsaW1pdEhpdCIsImdldEhlYWRlciIsInJlcSIsIkhlYWRlcnMiLCJnZXQiLCJidWlsZFJlcXVlc3RIYW5kbGVyIiwib3B0cyIsImlucHV0IiwicmVzIiwiZXZlbnQiLCJjb25maWciLCJwcmVmZXJyZWRPckVudlNlY3JldCIsInVwbG9hZHRoaW5nU2VjcmV0IiwiZW52IiwiVVBMT0FEVEhJTkdfU0VDUkVUIiwicGFyYW1zIiwiVVJMIiwic2VhcmNoUGFyYW1zIiwidXBsb2FkdGhpbmdIb29rIiwic2x1ZyIsImFjdGlvblR5cGUiLCJ1cGxvYWRhYmxlIiwibWF5YmVSZXFCb2R5IiwicmVzb2x2ZXIiLCJpbmNsdWRlcyIsIm1hcCIsIngiLCJqb2luIiwicmVwbGFjZSIsIm1heWJlSW5wdXQiLCJ1c2VySW5wdXQiLCJwYXJzZWRJbnB1dCIsImlucHV0UGFyc2VyIiwibWlkZGxld2FyZSIsIkFycmF5IiwiaXNBcnJheSIsImV2ZXJ5IiwiZiIsInBhcnNlZENvbmZpZyIsInJvdXRlckNvbmZpZyIsInVwbG9hZHRoaW5nQXBpUmVzcG9uc2UiLCJwYXJzZWRSZXNwb25zZSIsIm9uVXBsb2FkRXJyb3IiLCJidWlsZFBlcm1pc3Npb25zSW5mb0hhbmRsZXIiLCJyIiwicGVybWlzc2lvbnMiLCJrIiwicm91dGUiLCJpbnRlcm5hbENyZWF0ZUJ1aWxkZXIiLCJpbml0RGVmIiwiaW1hZ2UiLCJtYXhGaWxlU2l6ZSIsIl9pbnB1dCIsIl9vdXRwdXQiLCJ1c2VyUGFyc2VyIiwidXNlck1pZGRsZXdhcmUiLCJvblVwbG9hZENvbXBsZXRlIiwidXNlclVwbG9hZENvbXBsZXRlIiwidXNlck9uVXBsb2FkRXJyb3IiLCJjcmVhdGVCdWlsZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/uploadthing/dist/chunk-BPTHKJTK.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/uploadthing/dist/chunk-F3SNDKZQ.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/uploadthing/dist/chunk-F3SNDKZQ.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UTApi: () => (/* binding */ UTApi),\n/* harmony export */   createServerHandler: () => (/* binding */ createServerHandler),\n/* harmony export */   createUploadthing: () => (/* binding */ createUploadthing),\n/* harmony export */   extractRouterConfig: () => (/* binding */ extractRouterConfig),\n/* harmony export */   utapi: () => (/* binding */ utapi)\n/* harmony export */ });\n/* harmony import */ var _chunk_5KWT532U_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-5KWT532U.mjs */ \"(rsc)/./node_modules/uploadthing/dist/chunk-5KWT532U.mjs\");\n/* harmony import */ var _chunk_WPSY3MFJ_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-WPSY3MFJ.mjs */ \"(rsc)/./node_modules/uploadthing/dist/chunk-WPSY3MFJ.mjs\");\n/* harmony import */ var _chunk_BPTHKJTK_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-BPTHKJTK.mjs */ \"(rsc)/./node_modules/uploadthing/dist/chunk-BPTHKJTK.mjs\");\n/* harmony import */ var _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @uploadthing/shared */ \"(rsc)/./node_modules/@uploadthing/shared/dist/index.mjs\");\n\n\n\n// src/server.ts\n\n// src/sdk/index.ts\n\n// src/sdk/utils.ts\n\nfunction guardServerOnly() {\n    if (false) {}\n}\nfunction getApiKeyOrThrow(apiKey) {\n    if (apiKey) return apiKey;\n    if (process.env.UPLOADTHING_SECRET) return process.env.UPLOADTHING_SECRET;\n    throw new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadThingError({\n        code: \"MISSING_ENV\",\n        message: \"Missing `UPLOADTHING_SECRET` env variable.\"\n    });\n}\nvar uploadFilesInternal = async (data, opts)=>{\n    const fileData = data.files.map((file)=>({\n            name: file.name ?? \"unnamed-blob\",\n            type: file.type,\n            size: file.size\n        }));\n    const res = await opts.fetch((0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.generateUploadThingURL)(\"/api/uploadFiles\"), {\n        method: \"POST\",\n        headers: opts.utRequestHeaders,\n        cache: \"no-store\",\n        body: JSON.stringify({\n            files: fileData,\n            metadata: data.metadata,\n            contentDisposition: data.contentDisposition\n        })\n    });\n    if (!res.ok) {\n        const error = await _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadThingError.fromResponse(res);\n        throw error;\n    }\n    const clonedRes = res.clone();\n    const json = await res.json();\n    if (\"error\" in json) {\n        const error = await _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadThingError.fromResponse(clonedRes);\n        throw error;\n    }\n    const uploads = await Promise.allSettled(data.files.map(async (file, i)=>{\n        const { presignedUrl, fields, key, fileUrl } = json.data[i];\n        if (!presignedUrl || !fields) {\n            throw new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadThingError({\n                code: \"URL_GENERATION_FAILED\",\n                message: \"Failed to generate presigned URL\",\n                cause: JSON.stringify(json.data[i])\n            });\n        }\n        const formData = new FormData();\n        formData.append(\"Content-Type\", file.type);\n        Object.entries(fields).forEach(([key2, value])=>{\n            formData.append(key2, value);\n        });\n        formData.append(\"file\", // Handles case when there is no file name\n        file.name ? file : Object.assign(file, {\n            name: \"unnamed-blob\"\n        }));\n        const s3res = await opts.fetch(presignedUrl, {\n            method: \"POST\",\n            body: formData,\n            headers: new Headers({\n                Accept: \"application/xml\"\n            })\n        });\n        if (!s3res.ok) {\n            await opts.fetch((0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.generateUploadThingURL)(\"/api/failureCallback\"), {\n                method: \"POST\",\n                body: JSON.stringify({\n                    fileKey: fields.key\n                }),\n                headers: opts.utRequestHeaders\n            });\n            const text = await s3res.text();\n            const parsed = (0,_chunk_5KWT532U_mjs__WEBPACK_IMPORTED_MODULE_0__.maybeParseResponseXML)(text);\n            if (parsed == null ? void 0 : parsed.message) {\n                throw new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadThingError({\n                    code: \"UPLOAD_FAILED\",\n                    message: parsed.message\n                });\n            }\n            throw new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadThingError({\n                code: \"UPLOAD_FAILED\",\n                message: \"Failed to upload file to storage provider\",\n                cause: s3res\n            });\n        }\n        await (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.pollForFileData)(key);\n        return {\n            key,\n            url: fileUrl,\n            name: file.name,\n            size: file.size\n        };\n    }));\n    return uploads.map((upload)=>{\n        if (upload.status === \"fulfilled\") {\n            const data2 = upload.value;\n            return {\n                data: data2,\n                error: null\n            };\n        }\n        const reason = upload.reason;\n        const error = _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadThingError.toObject(reason);\n        return {\n            data: null,\n            error\n        };\n    });\n};\n// src/sdk/index.ts\nvar UTApi = class {\n    constructor(opts){\n        this.fetch = (opts == null ? void 0 : opts.fetch) ?? globalThis.fetch;\n        this.apiKey = (opts == null ? void 0 : opts.apiKey) ?? process.env.UPLOADTHING_SECRET;\n        this.defaultHeaders = {\n            \"Content-Type\": \"application/json\",\n            \"x-uploadthing-api-key\": this.apiKey,\n            \"x-uploadthing-version\": _chunk_BPTHKJTK_mjs__WEBPACK_IMPORTED_MODULE_2__.UPLOADTHING_VERSION\n        };\n    }\n    async requestUploadThing(pathname, body, fallbackErrorMessage) {\n        getApiKeyOrThrow();\n        const res = await this.fetch((0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.generateUploadThingURL)(pathname), {\n            method: \"POST\",\n            cache: \"no-store\",\n            headers: this.defaultHeaders,\n            body: JSON.stringify(body)\n        });\n        const json = await res.json();\n        if (!res.ok || \"error\" in json) {\n            console.error(\"[UT] Error:\", json);\n            throw new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadThingError({\n                code: \"INTERNAL_SERVER_ERROR\",\n                message: \"error\" in json && typeof json.error === \"string\" ? json.error : fallbackErrorMessage\n            });\n        }\n        return json;\n    }\n    /**\n   * @param {FileEsque | FileEsque[]} files The file(s) to upload\n   * @param {Json} metadata JSON-parseable metadata to attach to the uploaded file(s)\n   *\n   * @example\n   * await uploadFiles(new File([\"foo\"], \"foo.txt\"));\n   *\n   * @example\n   * await uploadFiles([\n   *   new File([\"foo\"], \"foo.txt\"),\n   *   new File([\"bar\"], \"bar.txt\"),\n   * ]);\n   */ async uploadFiles(files, metadata = {}, contentDisposition = \"inline\") {\n        guardServerOnly();\n        (0,_chunk_WPSY3MFJ_mjs__WEBPACK_IMPORTED_MODULE_1__.incompatibleNodeGuard)();\n        const filesToUpload = Array.isArray(files) ? files : [\n            files\n        ];\n        const uploads = await uploadFilesInternal({\n            files: filesToUpload,\n            metadata,\n            contentDisposition\n        }, {\n            fetch: this.fetch,\n            utRequestHeaders: this.defaultHeaders\n        });\n        const uploadFileResponse = Array.isArray(files) ? uploads : uploads[0];\n        return uploadFileResponse;\n    }\n    /**\n   * @param {string} url The URL of the file to upload\n   * @param {Json} metadata JSON-parseable metadata to attach to the uploaded file(s)\n   *\n   * @example\n   * await uploadFileFromUrl(\"https://uploadthing.com/f/2e0fdb64-9957-4262-8e45-f372ba903ac8_image.jpg\");\n   *\n   * @example\n   * await uploadFileFromUrl([\n   *   \"https://uploadthing.com/f/2e0fdb64-9957-4262-8e45-f372ba903ac8_image.jpg\",\n   *   \"https://uploadthing.com/f/1649353b-04ea-48a2-9db7-31de7f562c8d_image2.jpg\"\n   * ])\n   */ async uploadFilesFromUrl(urls, metadata = {}, contentDisposition = \"inline\") {\n        guardServerOnly();\n        const fileUrls = Array.isArray(urls) ? urls : [\n            urls\n        ];\n        const formData = new FormData();\n        formData.append(\"metadata\", JSON.stringify(metadata));\n        const filesToUpload = await Promise.all(fileUrls.map(async (url)=>{\n            if (typeof url === \"string\") url = new URL(url);\n            const filename = url.pathname.split(\"/\").pop() ?? \"unknown-filename\";\n            const fileResponse = await fetch(url);\n            if (!fileResponse.ok) {\n                throw new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadThingError({\n                    code: \"BAD_REQUEST\",\n                    message: \"Failed to download requested file.\",\n                    cause: fileResponse\n                });\n            }\n            const blob = await fileResponse.blob();\n            return Object.assign(blob, {\n                name: filename\n            });\n        }));\n        const uploads = await uploadFilesInternal({\n            files: filesToUpload,\n            metadata,\n            contentDisposition\n        }, {\n            fetch: this.fetch,\n            utRequestHeaders: this.defaultHeaders\n        });\n        const uploadFileResponse = Array.isArray(urls) ? uploads : uploads[0];\n        return uploadFileResponse;\n    }\n    /**\n   * Request to delete files from UploadThing storage.\n   * @param {string | string[]} fileKeys\n   *\n   * @example\n   * await deleteFiles(\"2e0fdb64-9957-4262-8e45-f372ba903ac8_image.jpg\");\n   *\n   * @example\n   * await deleteFiles([\"2e0fdb64-9957-4262-8e45-f372ba903ac8_image.jpg\",\"1649353b-04ea-48a2-9db7-31de7f562c8d_image2.jpg\"])\n   */ async deleteFiles(fileKeys) {\n        guardServerOnly();\n        if (!Array.isArray(fileKeys)) fileKeys = [\n            fileKeys\n        ];\n        return this.requestUploadThing(\"/api/deleteFile\", {\n            fileKeys\n        }, \"An unknown error occured while deleting files.\");\n    }\n    /**\n   * Request file URLs from UploadThing storage.\n   * @param {string | string[]} fileKeys\n   *\n   * @example\n   * const data = await getFileUrls(\"2e0fdb64-9957-4262-8e45-f372ba903ac8_image.jpg\");\n   * console.log(data); // [{key: \"2e0fdb64-9957-4262-8e45-f372ba903ac8_image.jpg\", url: \"https://uploadthing.com/f/2e0fdb64-9957-4262-8e45-f372ba903ac8_image.jpg\"}]\n   *\n   * @example\n   * const data = await getFileUrls([\"2e0fdb64-9957-4262-8e45-f372ba903ac8_image.jpg\",\"1649353b-04ea-48a2-9db7-31de7f562c8d_image2.jpg\"])\n   * console.log(data) // [{key: \"2e0fdb64-9957-4262-8e45-f372ba903ac8_image.jpg\", url: \"https://uploadthing.com/f/2e0fdb64-9957-4262-8e45-f372ba903ac8_image.jpg\" },{key: \"1649353b-04ea-48a2-9db7-31de7f562c8d_image2.jpg\", url: \"https://uploadthing.com/f/1649353b-04ea-48a2-9db7-31de7f562c8d_image2.jpg\"}]\n   */ async getFileUrls(fileKeys) {\n        guardServerOnly();\n        (0,_chunk_WPSY3MFJ_mjs__WEBPACK_IMPORTED_MODULE_1__.incompatibleNodeGuard)();\n        if (!Array.isArray(fileKeys)) fileKeys = [\n            fileKeys\n        ];\n        const json = await this.requestUploadThing(\"/api/getFileUrl\", {\n            fileKeys\n        }, \"An unknown error occured while retrieving file URLs.\");\n        return json.data;\n    }\n    /**\n   * Request file list from UploadThing storage.\n   *\n   * @example\n   * const data = await listFiles();\n   * console.log(data); // { key: \"2e0fdb64-9957-4262-8e45-f372ba903ac8_image.jpg\", id: \"2e0fdb64-9957-4262-8e45-f372ba903ac8\" }\n   */ async listFiles() {\n        guardServerOnly();\n        (0,_chunk_WPSY3MFJ_mjs__WEBPACK_IMPORTED_MODULE_1__.incompatibleNodeGuard)();\n        const json = await this.requestUploadThing(\"/api/listFiles\", {}, \"An unknown error occured while listing files.\");\n        return json.files;\n    }\n    async renameFile(updates) {\n        guardServerOnly();\n        (0,_chunk_WPSY3MFJ_mjs__WEBPACK_IMPORTED_MODULE_1__.incompatibleNodeGuard)();\n        if (!Array.isArray(updates)) updates = [\n            updates\n        ];\n        return this.requestUploadThing(\"/api/renameFile\", {\n            updates\n        }, \"An unknown error occured while renaming files.\");\n    }\n    async getUsageInfo() {\n        guardServerOnly();\n        (0,_chunk_WPSY3MFJ_mjs__WEBPACK_IMPORTED_MODULE_1__.incompatibleNodeGuard)();\n        return this.requestUploadThing(\"/api/getUsageInfo\", {}, \"An unknown error occured while getting usage info.\");\n    }\n};\nvar utapi = new UTApi();\n// src/server.ts\nvar createUploadthing = (opts)=>(0,_chunk_BPTHKJTK_mjs__WEBPACK_IMPORTED_MODULE_2__.createBuilder)(opts);\nvar createServerHandler = (opts)=>{\n    (0,_chunk_WPSY3MFJ_mjs__WEBPACK_IMPORTED_MODULE_1__.incompatibleNodeGuard)();\n    const requestHandler = (0,_chunk_BPTHKJTK_mjs__WEBPACK_IMPORTED_MODULE_2__.buildRequestHandler)(opts);\n    const POST = async (request)=>{\n        const req = request instanceof Request ? request : request.request;\n        const response = await requestHandler({\n            req\n        });\n        if (response instanceof _uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.UploadThingError) {\n            return new Response(JSON.stringify((0,_chunk_BPTHKJTK_mjs__WEBPACK_IMPORTED_MODULE_2__.formatError)(response, opts.router)), {\n                status: (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_3__.getStatusCodeFromError)(response),\n                headers: {\n                    \"x-uploadthing-version\": _chunk_BPTHKJTK_mjs__WEBPACK_IMPORTED_MODULE_2__.UPLOADTHING_VERSION\n                }\n            });\n        }\n        if (response.status !== 200) {\n            return new Response(\"An unknown error occured\", {\n                status: 500,\n                headers: {\n                    \"x-uploadthing-version\": _chunk_BPTHKJTK_mjs__WEBPACK_IMPORTED_MODULE_2__.UPLOADTHING_VERSION\n                }\n            });\n        }\n        return new Response(JSON.stringify(response.body), {\n            status: response.status,\n            headers: {\n                \"x-uploadthing-version\": _chunk_BPTHKJTK_mjs__WEBPACK_IMPORTED_MODULE_2__.UPLOADTHING_VERSION\n            }\n        });\n    };\n    const getBuildPerms = (0,_chunk_BPTHKJTK_mjs__WEBPACK_IMPORTED_MODULE_2__.buildPermissionsInfoHandler)(opts);\n    const GET = (request)=>{\n        const _req = request instanceof Request ? request : request.request;\n        return new Response(JSON.stringify(getBuildPerms()), {\n            status: 200,\n            headers: {\n                \"x-uploadthing-version\": _chunk_BPTHKJTK_mjs__WEBPACK_IMPORTED_MODULE_2__.UPLOADTHING_VERSION\n            }\n        });\n    };\n    return {\n        GET,\n        POST\n    };\n};\nvar extractRouterConfig = (router)=>(0,_chunk_BPTHKJTK_mjs__WEBPACK_IMPORTED_MODULE_2__.buildPermissionsInfoHandler)({\n        router\n    })();\n //# sourceMappingURL=chunk-F3SNDKZQ.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9jaHVuay1GM1NOREtaUS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRThCO0FBR0E7QUFPQTtBQUU5QixnQkFBZ0I7QUFDb0Y7QUFFcEcsbUJBQW1CO0FBQzRHO0FBRS9ILG1CQUFtQjtBQUtVO0FBQzdCLFNBQVNjO0lBQ1AsSUFBSSxLQUE2QixFQUFFLEVBS2xDO0FBQ0g7QUFDQSxTQUFTRyxpQkFBaUJDLE1BQU07SUFDOUIsSUFBSUEsUUFDRixPQUFPQTtJQUNULElBQUlDLFFBQVFDLEdBQUcsQ0FBQ0Msa0JBQWtCLEVBQ2hDLE9BQU9GLFFBQVFDLEdBQUcsQ0FBQ0Msa0JBQWtCO0lBQ3ZDLE1BQU0sSUFBSWIsaUVBQWdCQSxDQUFDO1FBQ3pCTyxNQUFNO1FBQ05DLFNBQVM7SUFDWDtBQUNGO0FBQ0EsSUFBSU0sc0JBQXNCLE9BQU9DLE1BQU1DO0lBQ3JDLE1BQU1DLFdBQVdGLEtBQUtHLEtBQUssQ0FBQ0MsR0FBRyxDQUFDLENBQUNDLE9BQVU7WUFDekNDLE1BQU1ELEtBQUtDLElBQUksSUFBSTtZQUNuQkMsTUFBTUYsS0FBS0UsSUFBSTtZQUNmQyxNQUFNSCxLQUFLRyxJQUFJO1FBQ2pCO0lBQ0EsTUFBTUMsTUFBTSxNQUFNUixLQUFLUyxLQUFLLENBQUN2QiwyRUFBc0JBLENBQUMscUJBQXFCO1FBQ3ZFd0IsUUFBUTtRQUNSQyxTQUFTWCxLQUFLWSxnQkFBZ0I7UUFDOUJDLE9BQU87UUFDUEMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO1lBQ25CZCxPQUFPRDtZQUNQZ0IsVUFBVWxCLEtBQUtrQixRQUFRO1lBQ3ZCQyxvQkFBb0JuQixLQUFLbUIsa0JBQWtCO1FBQzdDO0lBQ0Y7SUFDQSxJQUFJLENBQUNWLElBQUlXLEVBQUUsRUFBRTtRQUNYLE1BQU1DLFFBQVEsTUFBTXBDLGlFQUFnQkEsQ0FBQ3FDLFlBQVksQ0FBQ2I7UUFDbEQsTUFBTVk7SUFDUjtJQUNBLE1BQU1FLFlBQVlk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QUNYLE1BQU1RLE9BQU9SLG1CQUFtQkUsVUFBVUYsVUFBVUEsUUFBUUEsT0FBTztRQUNuRSxPQUFPLElBQUlJLFNBQVMvRSxLQUFLQyxTQUFTLENBQUNnRixrQkFBa0I7WUFDbkQ3QyxRQUFRO1lBQ1J4QyxTQUFTO2dCQUNQLHlCQUF5QmpDLG9FQUFtQkE7WUFDOUM7UUFDRjtJQUNGO0lBQ0EsT0FBTztRQUFFdUg7UUFBS1I7SUFBSztBQUNyQjtBQUNBLElBQUlVLHNCQUFzQixDQUFDSixTQUFXcEgsZ0ZBQTJCQSxDQUFDO1FBQUVvSDtJQUFPO0FBUXpFLENBQ0YsMkNBQTJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhyZWFkcy8uL25vZGVfbW9kdWxlcy91cGxvYWR0aGluZy9kaXN0L2NodW5rLUYzU05ES1pRLm1qcz9mZWZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIG1heWJlUGFyc2VSZXNwb25zZVhNTFxufSBmcm9tIFwiLi9jaHVuay01S1dUNTMyVS5tanNcIjtcbmltcG9ydCB7XG4gIGluY29tcGF0aWJsZU5vZGVHdWFyZFxufSBmcm9tIFwiLi9jaHVuay1XUFNZM01GSi5tanNcIjtcbmltcG9ydCB7XG4gIFVQTE9BRFRISU5HX1ZFUlNJT04sXG4gIGJ1aWxkUGVybWlzc2lvbnNJbmZvSGFuZGxlcixcbiAgYnVpbGRSZXF1ZXN0SGFuZGxlcixcbiAgY3JlYXRlQnVpbGRlcixcbiAgZm9ybWF0RXJyb3Jcbn0gZnJvbSBcIi4vY2h1bmstQlBUSEtKVEsubWpzXCI7XG5cbi8vIHNyYy9zZXJ2ZXIudHNcbmltcG9ydCB7IGdldFN0YXR1c0NvZGVGcm9tRXJyb3IsIFVwbG9hZFRoaW5nRXJyb3IgYXMgVXBsb2FkVGhpbmdFcnJvcjMgfSBmcm9tIFwiQHVwbG9hZHRoaW5nL3NoYXJlZFwiO1xuXG4vLyBzcmMvc2RrL2luZGV4LnRzXG5pbXBvcnQgeyBnZW5lcmF0ZVVwbG9hZFRoaW5nVVJMIGFzIGdlbmVyYXRlVXBsb2FkVGhpbmdVUkwyLCBVcGxvYWRUaGluZ0Vycm9yIGFzIFVwbG9hZFRoaW5nRXJyb3IyIH0gZnJvbSBcIkB1cGxvYWR0aGluZy9zaGFyZWRcIjtcblxuLy8gc3JjL3Nkay91dGlscy50c1xuaW1wb3J0IHtcbiAgZ2VuZXJhdGVVcGxvYWRUaGluZ1VSTCxcbiAgcG9sbEZvckZpbGVEYXRhLFxuICBVcGxvYWRUaGluZ0Vycm9yXG59IGZyb20gXCJAdXBsb2FkdGhpbmcvc2hhcmVkXCI7XG5mdW5jdGlvbiBndWFyZFNlcnZlck9ubHkoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdGhyb3cgbmV3IFVwbG9hZFRoaW5nRXJyb3Ioe1xuICAgICAgY29kZTogXCJJTlRFUk5BTF9TRVJWRVJfRVJST1JcIixcbiAgICAgIG1lc3NhZ2U6IFwiVGhlIGB1dGFwaWAgY2FuIG9ubHkgYmUgdXNlZCBvbiB0aGUgc2VydmVyLlwiXG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldEFwaUtleU9yVGhyb3coYXBpS2V5KSB7XG4gIGlmIChhcGlLZXkpXG4gICAgcmV0dXJuIGFwaUtleTtcbiAgaWYgKHByb2Nlc3MuZW52LlVQTE9BRFRISU5HX1NFQ1JFVClcbiAgICByZXR1cm4gcHJvY2Vzcy5lbnYuVVBMT0FEVEhJTkdfU0VDUkVUO1xuICB0aHJvdyBuZXcgVXBsb2FkVGhpbmdFcnJvcih7XG4gICAgY29kZTogXCJNSVNTSU5HX0VOVlwiLFxuICAgIG1lc3NhZ2U6IFwiTWlzc2luZyBgVVBMT0FEVEhJTkdfU0VDUkVUYCBlbnYgdmFyaWFibGUuXCJcbiAgfSk7XG59XG52YXIgdXBsb2FkRmlsZXNJbnRlcm5hbCA9IGFzeW5jIChkYXRhLCBvcHRzKSA9PiB7XG4gIGNvbnN0IGZpbGVEYXRhID0gZGF0YS5maWxlcy5tYXAoKGZpbGUpID0+ICh7XG4gICAgbmFtZTogZmlsZS5uYW1lID8/IFwidW5uYW1lZC1ibG9iXCIsXG4gICAgdHlwZTogZmlsZS50eXBlLFxuICAgIHNpemU6IGZpbGUuc2l6ZVxuICB9KSk7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IG9wdHMuZmV0Y2goZ2VuZXJhdGVVcGxvYWRUaGluZ1VSTChcIi9hcGkvdXBsb2FkRmlsZXNcIiksIHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIGhlYWRlcnM6IG9wdHMudXRSZXF1ZXN0SGVhZGVycyxcbiAgICBjYWNoZTogXCJuby1zdG9yZVwiLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGZpbGVzOiBmaWxlRGF0YSxcbiAgICAgIG1ldGFkYXRhOiBkYXRhLm1ldGFkYXRhLFxuICAgICAgY29udGVudERpc3Bvc2l0aW9uOiBkYXRhLmNvbnRlbnREaXNwb3NpdGlvblxuICAgIH0pXG4gIH0pO1xuICBpZiAoIXJlcy5vaykge1xuICAgIGNvbnN0IGVycm9yID0gYXdhaXQgVXBsb2FkVGhpbmdFcnJvci5mcm9tUmVzcG9uc2UocmVzKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxuICBjb25zdCBjbG9uZWRSZXMgPSByZXMuY2xvbmUoKTtcbiAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7XG4gIGlmIChcImVycm9yXCIgaW4ganNvbikge1xuICAgIGNvbnN0IGVycm9yID0gYXdhaXQgVXBsb2FkVGhpbmdFcnJvci5mcm9tUmVzcG9uc2UoY2xvbmVkUmVzKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxuICBjb25zdCB1cGxvYWRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKFxuICAgIGRhdGEuZmlsZXMubWFwKGFzeW5jIChmaWxlLCBpKSA9PiB7XG4gICAgICBjb25zdCB7IHByZXNpZ25lZFVybCwgZmllbGRzLCBrZXksIGZpbGVVcmwgfSA9IGpzb24uZGF0YVtpXTtcbiAgICAgIGlmICghcHJlc2lnbmVkVXJsIHx8ICFmaWVsZHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVwbG9hZFRoaW5nRXJyb3Ioe1xuICAgICAgICAgIGNvZGU6IFwiVVJMX0dFTkVSQVRJT05fRkFJTEVEXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gZ2VuZXJhdGUgcHJlc2lnbmVkIFVSTFwiLFxuICAgICAgICAgIGNhdXNlOiBKU09OLnN0cmluZ2lmeShqc29uLmRhdGFbaV0pXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZChcIkNvbnRlbnQtVHlwZVwiLCBmaWxlLnR5cGUpO1xuICAgICAgT2JqZWN0LmVudHJpZXMoZmllbGRzKS5mb3JFYWNoKChba2V5MiwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChrZXkyLCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZChcbiAgICAgICAgXCJmaWxlXCIsXG4gICAgICAgIC8vIEhhbmRsZXMgY2FzZSB3aGVuIHRoZXJlIGlzIG5vIGZpbGUgbmFtZVxuICAgICAgICBmaWxlLm5hbWUgPyBmaWxlIDogT2JqZWN0LmFzc2lnbihmaWxlLCB7IG5hbWU6IFwidW5uYW1lZC1ibG9iXCIgfSlcbiAgICAgICk7XG4gICAgICBjb25zdCBzM3JlcyA9IGF3YWl0IG9wdHMuZmV0Y2gocHJlc2lnbmVkVXJsLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGJvZHk6IGZvcm1EYXRhLFxuICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh7XG4gICAgICAgICAgQWNjZXB0OiBcImFwcGxpY2F0aW9uL3htbFwiXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICAgIGlmICghczNyZXMub2spIHtcbiAgICAgICAgYXdhaXQgb3B0cy5mZXRjaChnZW5lcmF0ZVVwbG9hZFRoaW5nVVJMKFwiL2FwaS9mYWlsdXJlQ2FsbGJhY2tcIiksIHtcbiAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGZpbGVLZXk6IGZpZWxkcy5rZXlcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBoZWFkZXJzOiBvcHRzLnV0UmVxdWVzdEhlYWRlcnNcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCBzM3Jlcy50ZXh0KCk7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IG1heWJlUGFyc2VSZXNwb25zZVhNTCh0ZXh0KTtcbiAgICAgICAgaWYgKHBhcnNlZCA9PSBudWxsID8gdm9pZCAwIDogcGFyc2VkLm1lc3NhZ2UpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVXBsb2FkVGhpbmdFcnJvcih7XG4gICAgICAgICAgICBjb2RlOiBcIlVQTE9BRF9GQUlMRURcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IHBhcnNlZC5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFVwbG9hZFRoaW5nRXJyb3Ioe1xuICAgICAgICAgIGNvZGU6IFwiVVBMT0FEX0ZBSUxFRFwiLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIHVwbG9hZCBmaWxlIHRvIHN0b3JhZ2UgcHJvdmlkZXJcIixcbiAgICAgICAgICBjYXVzZTogczNyZXNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBhd2FpdCBwb2xsRm9yRmlsZURhdGEoa2V5KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtleSxcbiAgICAgICAgdXJsOiBmaWxlVXJsLFxuICAgICAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgIHNpemU6IGZpbGUuc2l6ZVxuICAgICAgfTtcbiAgICB9KVxuICApO1xuICByZXR1cm4gdXBsb2Fkcy5tYXAoKHVwbG9hZCkgPT4ge1xuICAgIGlmICh1cGxvYWQuc3RhdHVzID09PSBcImZ1bGZpbGxlZFwiKSB7XG4gICAgICBjb25zdCBkYXRhMiA9IHVwbG9hZC52YWx1ZTtcbiAgICAgIHJldHVybiB7IGRhdGE6IGRhdGEyLCBlcnJvcjogbnVsbCB9O1xuICAgIH1cbiAgICBjb25zdCByZWFzb24gPSB1cGxvYWQucmVhc29uO1xuICAgIGNvbnN0IGVycm9yID0gVXBsb2FkVGhpbmdFcnJvci50b09iamVjdChyZWFzb24pO1xuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gIH0pO1xufTtcblxuLy8gc3JjL3Nkay9pbmRleC50c1xudmFyIFVUQXBpID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgdGhpcy5mZXRjaCA9IChvcHRzID09IG51bGwgPyB2b2lkIDAgOiBvcHRzLmZldGNoKSA/PyBnbG9iYWxUaGlzLmZldGNoO1xuICAgIHRoaXMuYXBpS2V5ID0gKG9wdHMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdHMuYXBpS2V5KSA/PyBwcm9jZXNzLmVudi5VUExPQURUSElOR19TRUNSRVQ7XG4gICAgdGhpcy5kZWZhdWx0SGVhZGVycyA9IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgXCJ4LXVwbG9hZHRoaW5nLWFwaS1rZXlcIjogdGhpcy5hcGlLZXksXG4gICAgICBcIngtdXBsb2FkdGhpbmctdmVyc2lvblwiOiBVUExPQURUSElOR19WRVJTSU9OXG4gICAgfTtcbiAgfVxuICBhc3luYyByZXF1ZXN0VXBsb2FkVGhpbmcocGF0aG5hbWUsIGJvZHksIGZhbGxiYWNrRXJyb3JNZXNzYWdlKSB7XG4gICAgZ2V0QXBpS2V5T3JUaHJvdygpO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuZmV0Y2goZ2VuZXJhdGVVcGxvYWRUaGluZ1VSTDIocGF0aG5hbWUpLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgY2FjaGU6IFwibm8tc3RvcmVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuZGVmYXVsdEhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgIH0pO1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXMuanNvbigpO1xuICAgIGlmICghcmVzLm9rIHx8IFwiZXJyb3JcIiBpbiBqc29uKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiW1VUXSBFcnJvcjpcIiwganNvbik7XG4gICAgICB0aHJvdyBuZXcgVXBsb2FkVGhpbmdFcnJvcjIoe1xuICAgICAgICBjb2RlOiBcIklOVEVSTkFMX1NFUlZFUl9FUlJPUlwiLFxuICAgICAgICBtZXNzYWdlOiBcImVycm9yXCIgaW4ganNvbiAmJiB0eXBlb2YganNvbi5lcnJvciA9PT0gXCJzdHJpbmdcIiA/IGpzb24uZXJyb3IgOiBmYWxsYmFja0Vycm9yTWVzc2FnZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBqc29uO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge0ZpbGVFc3F1ZSB8IEZpbGVFc3F1ZVtdfSBmaWxlcyBUaGUgZmlsZShzKSB0byB1cGxvYWRcbiAgICogQHBhcmFtIHtKc29ufSBtZXRhZGF0YSBKU09OLXBhcnNlYWJsZSBtZXRhZGF0YSB0byBhdHRhY2ggdG8gdGhlIHVwbG9hZGVkIGZpbGUocylcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYXdhaXQgdXBsb2FkRmlsZXMobmV3IEZpbGUoW1wiZm9vXCJdLCBcImZvby50eHRcIikpO1xuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBhd2FpdCB1cGxvYWRGaWxlcyhbXG4gICAqICAgbmV3IEZpbGUoW1wiZm9vXCJdLCBcImZvby50eHRcIiksXG4gICAqICAgbmV3IEZpbGUoW1wiYmFyXCJdLCBcImJhci50eHRcIiksXG4gICAqIF0pO1xuICAgKi9cbiAgYXN5bmMgdXBsb2FkRmlsZXMoZmlsZXMsIG1ldGFkYXRhID0ge30sIGNvbnRlbnREaXNwb3NpdGlvbiA9IFwiaW5saW5lXCIpIHtcbiAgICBndWFyZFNlcnZlck9ubHkoKTtcbiAgICBpbmNvbXBhdGlibGVOb2RlR3VhcmQoKTtcbiAgICBjb25zdCBmaWxlc1RvVXBsb2FkID0gQXJyYXkuaXNBcnJheShmaWxlcykgPyBmaWxlcyA6IFtmaWxlc107XG4gICAgY29uc3QgdXBsb2FkcyA9IGF3YWl0IHVwbG9hZEZpbGVzSW50ZXJuYWwoXG4gICAgICB7XG4gICAgICAgIGZpbGVzOiBmaWxlc1RvVXBsb2FkLFxuICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgY29udGVudERpc3Bvc2l0aW9uXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmZXRjaDogdGhpcy5mZXRjaCxcbiAgICAgICAgdXRSZXF1ZXN0SGVhZGVyczogdGhpcy5kZWZhdWx0SGVhZGVyc1xuICAgICAgfVxuICAgICk7XG4gICAgY29uc3QgdXBsb2FkRmlsZVJlc3BvbnNlID0gQXJyYXkuaXNBcnJheShmaWxlcykgPyB1cGxvYWRzIDogdXBsb2Fkc1swXTtcbiAgICByZXR1cm4gdXBsb2FkRmlsZVJlc3BvbnNlO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgb2YgdGhlIGZpbGUgdG8gdXBsb2FkXG4gICAqIEBwYXJhbSB7SnNvbn0gbWV0YWRhdGEgSlNPTi1wYXJzZWFibGUgbWV0YWRhdGEgdG8gYXR0YWNoIHRvIHRoZSB1cGxvYWRlZCBmaWxlKHMpXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGF3YWl0IHVwbG9hZEZpbGVGcm9tVXJsKFwiaHR0cHM6Ly91cGxvYWR0aGluZy5jb20vZi8yZTBmZGI2NC05OTU3LTQyNjItOGU0NS1mMzcyYmE5MDNhYzhfaW1hZ2UuanBnXCIpO1xuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBhd2FpdCB1cGxvYWRGaWxlRnJvbVVybChbXG4gICAqICAgXCJodHRwczovL3VwbG9hZHRoaW5nLmNvbS9mLzJlMGZkYjY0LTk5NTctNDI2Mi04ZTQ1LWYzNzJiYTkwM2FjOF9pbWFnZS5qcGdcIixcbiAgICogICBcImh0dHBzOi8vdXBsb2FkdGhpbmcuY29tL2YvMTY0OTM1M2ItMDRlYS00OGEyLTlkYjctMzFkZTdmNTYyYzhkX2ltYWdlMi5qcGdcIlxuICAgKiBdKVxuICAgKi9cbiAgYXN5bmMgdXBsb2FkRmlsZXNGcm9tVXJsKHVybHMsIG1ldGFkYXRhID0ge30sIGNvbnRlbnREaXNwb3NpdGlvbiA9IFwiaW5saW5lXCIpIHtcbiAgICBndWFyZFNlcnZlck9ubHkoKTtcbiAgICBjb25zdCBmaWxlVXJscyA9IEFycmF5LmlzQXJyYXkodXJscykgPyB1cmxzIDogW3VybHNdO1xuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgZm9ybURhdGEuYXBwZW5kKFwibWV0YWRhdGFcIiwgSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpKTtcbiAgICBjb25zdCBmaWxlc1RvVXBsb2FkID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBmaWxlVXJscy5tYXAoYXN5bmMgKHVybCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHVybCA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICB1cmwgPSBuZXcgVVJMKHVybCk7XG4gICAgICAgIGNvbnN0IGZpbGVuYW1lID0gdXJsLnBhdGhuYW1lLnNwbGl0KFwiL1wiKS5wb3AoKSA/PyBcInVua25vd24tZmlsZW5hbWVcIjtcbiAgICAgICAgY29uc3QgZmlsZVJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgICAgICAgaWYgKCFmaWxlUmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVXBsb2FkVGhpbmdFcnJvcjIoe1xuICAgICAgICAgICAgY29kZTogXCJCQURfUkVRVUVTVFwiLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gZG93bmxvYWQgcmVxdWVzdGVkIGZpbGUuXCIsXG4gICAgICAgICAgICBjYXVzZTogZmlsZVJlc3BvbnNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IGZpbGVSZXNwb25zZS5ibG9iKCk7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGJsb2IsIHsgbmFtZTogZmlsZW5hbWUgfSk7XG4gICAgICB9KVxuICAgICk7XG4gICAgY29uc3QgdXBsb2FkcyA9IGF3YWl0IHVwbG9hZEZpbGVzSW50ZXJuYWwoXG4gICAgICB7XG4gICAgICAgIGZpbGVzOiBmaWxlc1RvVXBsb2FkLFxuICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgY29udGVudERpc3Bvc2l0aW9uXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmZXRjaDogdGhpcy5mZXRjaCxcbiAgICAgICAgdXRSZXF1ZXN0SGVhZGVyczogdGhpcy5kZWZhdWx0SGVhZGVyc1xuICAgICAgfVxuICAgICk7XG4gICAgY29uc3QgdXBsb2FkRmlsZVJlc3BvbnNlID0gQXJyYXkuaXNBcnJheSh1cmxzKSA/IHVwbG9hZHMgOiB1cGxvYWRzWzBdO1xuICAgIHJldHVybiB1cGxvYWRGaWxlUmVzcG9uc2U7XG4gIH1cbiAgLyoqXG4gICAqIFJlcXVlc3QgdG8gZGVsZXRlIGZpbGVzIGZyb20gVXBsb2FkVGhpbmcgc3RvcmFnZS5cbiAgICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXX0gZmlsZUtleXNcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYXdhaXQgZGVsZXRlRmlsZXMoXCIyZTBmZGI2NC05OTU3LTQyNjItOGU0NS1mMzcyYmE5MDNhYzhfaW1hZ2UuanBnXCIpO1xuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBhd2FpdCBkZWxldGVGaWxlcyhbXCIyZTBmZGI2NC05OTU3LTQyNjItOGU0NS1mMzcyYmE5MDNhYzhfaW1hZ2UuanBnXCIsXCIxNjQ5MzUzYi0wNGVhLTQ4YTItOWRiNy0zMWRlN2Y1NjJjOGRfaW1hZ2UyLmpwZ1wiXSlcbiAgICovXG4gIGFzeW5jIGRlbGV0ZUZpbGVzKGZpbGVLZXlzKSB7XG4gICAgZ3VhcmRTZXJ2ZXJPbmx5KCk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGZpbGVLZXlzKSlcbiAgICAgIGZpbGVLZXlzID0gW2ZpbGVLZXlzXTtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0VXBsb2FkVGhpbmcoXG4gICAgICBcIi9hcGkvZGVsZXRlRmlsZVwiLFxuICAgICAgeyBmaWxlS2V5cyB9LFxuICAgICAgXCJBbiB1bmtub3duIGVycm9yIG9jY3VyZWQgd2hpbGUgZGVsZXRpbmcgZmlsZXMuXCJcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBSZXF1ZXN0IGZpbGUgVVJMcyBmcm9tIFVwbG9hZFRoaW5nIHN0b3JhZ2UuXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgc3RyaW5nW119IGZpbGVLZXlzXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXRGaWxlVXJscyhcIjJlMGZkYjY0LTk5NTctNDI2Mi04ZTQ1LWYzNzJiYTkwM2FjOF9pbWFnZS5qcGdcIik7XG4gICAqIGNvbnNvbGUubG9nKGRhdGEpOyAvLyBbe2tleTogXCIyZTBmZGI2NC05OTU3LTQyNjItOGU0NS1mMzcyYmE5MDNhYzhfaW1hZ2UuanBnXCIsIHVybDogXCJodHRwczovL3VwbG9hZHRoaW5nLmNvbS9mLzJlMGZkYjY0LTk5NTctNDI2Mi04ZTQ1LWYzNzJiYTkwM2FjOF9pbWFnZS5qcGdcIn1dXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXRGaWxlVXJscyhbXCIyZTBmZGI2NC05OTU3LTQyNjItOGU0NS1mMzcyYmE5MDNhYzhfaW1hZ2UuanBnXCIsXCIxNjQ5MzUzYi0wNGVhLTQ4YTItOWRiNy0zMWRlN2Y1NjJjOGRfaW1hZ2UyLmpwZ1wiXSlcbiAgICogY29uc29sZS5sb2coZGF0YSkgLy8gW3trZXk6IFwiMmUwZmRiNjQtOTk1Ny00MjYyLThlNDUtZjM3MmJhOTAzYWM4X2ltYWdlLmpwZ1wiLCB1cmw6IFwiaHR0cHM6Ly91cGxvYWR0aGluZy5jb20vZi8yZTBmZGI2NC05OTU3LTQyNjItOGU0NS1mMzcyYmE5MDNhYzhfaW1hZ2UuanBnXCIgfSx7a2V5OiBcIjE2NDkzNTNiLTA0ZWEtNDhhMi05ZGI3LTMxZGU3ZjU2MmM4ZF9pbWFnZTIuanBnXCIsIHVybDogXCJodHRwczovL3VwbG9hZHRoaW5nLmNvbS9mLzE2NDkzNTNiLTA0ZWEtNDhhMi05ZGI3LTMxZGU3ZjU2MmM4ZF9pbWFnZTIuanBnXCJ9XVxuICAgKi9cbiAgYXN5bmMgZ2V0RmlsZVVybHMoZmlsZUtleXMpIHtcbiAgICBndWFyZFNlcnZlck9ubHkoKTtcbiAgICBpbmNvbXBhdGlibGVOb2RlR3VhcmQoKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZmlsZUtleXMpKVxuICAgICAgZmlsZUtleXMgPSBbZmlsZUtleXNdO1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCB0aGlzLnJlcXVlc3RVcGxvYWRUaGluZyhcbiAgICAgIFwiL2FwaS9nZXRGaWxlVXJsXCIsXG4gICAgICB7IGZpbGVLZXlzIH0sXG4gICAgICBcIkFuIHVua25vd24gZXJyb3Igb2NjdXJlZCB3aGlsZSByZXRyaWV2aW5nIGZpbGUgVVJMcy5cIlxuICAgICk7XG4gICAgcmV0dXJuIGpzb24uZGF0YTtcbiAgfVxuICAvKipcbiAgICogUmVxdWVzdCBmaWxlIGxpc3QgZnJvbSBVcGxvYWRUaGluZyBzdG9yYWdlLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb25zdCBkYXRhID0gYXdhaXQgbGlzdEZpbGVzKCk7XG4gICAqIGNvbnNvbGUubG9nKGRhdGEpOyAvLyB7IGtleTogXCIyZTBmZGI2NC05OTU3LTQyNjItOGU0NS1mMzcyYmE5MDNhYzhfaW1hZ2UuanBnXCIsIGlkOiBcIjJlMGZkYjY0LTk5NTctNDI2Mi04ZTQ1LWYzNzJiYTkwM2FjOFwiIH1cbiAgICovXG4gIGFzeW5jIGxpc3RGaWxlcygpIHtcbiAgICBndWFyZFNlcnZlck9ubHkoKTtcbiAgICBpbmNvbXBhdGlibGVOb2RlR3VhcmQoKTtcbiAgICBjb25zdCBqc29uID0gYXdhaXQgdGhpcy5yZXF1ZXN0VXBsb2FkVGhpbmcoXCIvYXBpL2xpc3RGaWxlc1wiLCB7fSwgXCJBbiB1bmtub3duIGVycm9yIG9jY3VyZWQgd2hpbGUgbGlzdGluZyBmaWxlcy5cIik7XG4gICAgcmV0dXJuIGpzb24uZmlsZXM7XG4gIH1cbiAgYXN5bmMgcmVuYW1lRmlsZSh1cGRhdGVzKSB7XG4gICAgZ3VhcmRTZXJ2ZXJPbmx5KCk7XG4gICAgaW5jb21wYXRpYmxlTm9kZUd1YXJkKCk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHVwZGF0ZXMpKVxuICAgICAgdXBkYXRlcyA9IFt1cGRhdGVzXTtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0VXBsb2FkVGhpbmcoXG4gICAgICBcIi9hcGkvcmVuYW1lRmlsZVwiLFxuICAgICAgeyB1cGRhdGVzIH0sXG4gICAgICBcIkFuIHVua25vd24gZXJyb3Igb2NjdXJlZCB3aGlsZSByZW5hbWluZyBmaWxlcy5cIlxuICAgICk7XG4gIH1cbiAgYXN5bmMgZ2V0VXNhZ2VJbmZvKCkge1xuICAgIGd1YXJkU2VydmVyT25seSgpO1xuICAgIGluY29tcGF0aWJsZU5vZGVHdWFyZCgpO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3RVcGxvYWRUaGluZyhcbiAgICAgIFwiL2FwaS9nZXRVc2FnZUluZm9cIixcbiAgICAgIHt9LFxuICAgICAgXCJBbiB1bmtub3duIGVycm9yIG9jY3VyZWQgd2hpbGUgZ2V0dGluZyB1c2FnZSBpbmZvLlwiXG4gICAgKTtcbiAgfVxufTtcbnZhciB1dGFwaSA9IG5ldyBVVEFwaSgpO1xuXG4vLyBzcmMvc2VydmVyLnRzXG52YXIgY3JlYXRlVXBsb2FkdGhpbmcgPSAob3B0cykgPT4gY3JlYXRlQnVpbGRlcihvcHRzKTtcbnZhciBjcmVhdGVTZXJ2ZXJIYW5kbGVyID0gKG9wdHMpID0+IHtcbiAgaW5jb21wYXRpYmxlTm9kZUd1YXJkKCk7XG4gIGNvbnN0IHJlcXVlc3RIYW5kbGVyID0gYnVpbGRSZXF1ZXN0SGFuZGxlcihvcHRzKTtcbiAgY29uc3QgUE9TVCA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgY29uc3QgcmVxID0gcmVxdWVzdCBpbnN0YW5jZW9mIFJlcXVlc3QgPyByZXF1ZXN0IDogcmVxdWVzdC5yZXF1ZXN0O1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdEhhbmRsZXIoeyByZXEgfSk7XG4gICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgVXBsb2FkVGhpbmdFcnJvcjMpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoZm9ybWF0RXJyb3IocmVzcG9uc2UsIG9wdHMucm91dGVyKSksIHtcbiAgICAgICAgc3RhdHVzOiBnZXRTdGF0dXNDb2RlRnJvbUVycm9yKHJlc3BvbnNlKSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwieC11cGxvYWR0aGluZy12ZXJzaW9uXCI6IFVQTE9BRFRISU5HX1ZFUlNJT05cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcIkFuIHVua25vd24gZXJyb3Igb2NjdXJlZFwiLCB7XG4gICAgICAgIHN0YXR1czogNTAwLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJ4LXVwbG9hZHRoaW5nLXZlcnNpb25cIjogVVBMT0FEVEhJTkdfVkVSU0lPTlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShyZXNwb25zZS5ib2R5KSwge1xuICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwieC11cGxvYWR0aGluZy12ZXJzaW9uXCI6IFVQTE9BRFRISU5HX1ZFUlNJT05cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgZ2V0QnVpbGRQZXJtcyA9IGJ1aWxkUGVybWlzc2lvbnNJbmZvSGFuZGxlcihvcHRzKTtcbiAgY29uc3QgR0VUID0gKHJlcXVlc3QpID0+IHtcbiAgICBjb25zdCBfcmVxID0gcmVxdWVzdCBpbnN0YW5jZW9mIFJlcXVlc3QgPyByZXF1ZXN0IDogcmVxdWVzdC5yZXF1ZXN0O1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoZ2V0QnVpbGRQZXJtcygpKSwge1xuICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwieC11cGxvYWR0aGluZy12ZXJzaW9uXCI6IFVQTE9BRFRISU5HX1ZFUlNJT05cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIHsgR0VULCBQT1NUIH07XG59O1xudmFyIGV4dHJhY3RSb3V0ZXJDb25maWcgPSAocm91dGVyKSA9PiBidWlsZFBlcm1pc3Npb25zSW5mb0hhbmRsZXIoeyByb3V0ZXIgfSkoKTtcblxuZXhwb3J0IHtcbiAgVVRBcGksXG4gIHV0YXBpLFxuICBjcmVhdGVVcGxvYWR0aGluZyxcbiAgY3JlYXRlU2VydmVySGFuZGxlcixcbiAgZXh0cmFjdFJvdXRlckNvbmZpZ1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUYzU05ES1pRLm1qcy5tYXAiXSwibmFtZXMiOlsibWF5YmVQYXJzZVJlc3BvbnNlWE1MIiwiaW5jb21wYXRpYmxlTm9kZUd1YXJkIiwiVVBMT0FEVEhJTkdfVkVSU0lPTiIsImJ1aWxkUGVybWlzc2lvbnNJbmZvSGFuZGxlciIsImJ1aWxkUmVxdWVzdEhhbmRsZXIiLCJjcmVhdGVCdWlsZGVyIiwiZm9ybWF0RXJyb3IiLCJnZXRTdGF0dXNDb2RlRnJvbUVycm9yIiwiVXBsb2FkVGhpbmdFcnJvciIsIlVwbG9hZFRoaW5nRXJyb3IzIiwiZ2VuZXJhdGVVcGxvYWRUaGluZ1VSTCIsImdlbmVyYXRlVXBsb2FkVGhpbmdVUkwyIiwiVXBsb2FkVGhpbmdFcnJvcjIiLCJwb2xsRm9yRmlsZURhdGEiLCJndWFyZFNlcnZlck9ubHkiLCJjb2RlIiwibWVzc2FnZSIsImdldEFwaUtleU9yVGhyb3ciLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiVVBMT0FEVEhJTkdfU0VDUkVUIiwidXBsb2FkRmlsZXNJbnRlcm5hbCIsImRhdGEiLCJvcHRzIiwiZmlsZURhdGEiLCJmaWxlcyIsIm1hcCIsImZpbGUiLCJuYW1lIiwidHlwZSIsInNpemUiLCJyZXMiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJ1dFJlcXVlc3RIZWFkZXJzIiwiY2FjaGUiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm1ldGFkYXRhIiwiY29udGVudERpc3Bvc2l0aW9uIiwib2siLCJlcnJvciIsImZyb21SZXNwb25zZSIsImNsb25lZFJlcyIsImNsb25lIiwianNvbiIsInVwbG9hZHMiLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsImkiLCJwcmVzaWduZWRVcmwiLCJmaWVsZHMiLCJrZXkiLCJmaWxlVXJsIiwiY2F1c2UiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrZXkyIiwidmFsdWUiLCJhc3NpZ24iLCJzM3JlcyIsIkhlYWRlcnMiLCJBY2NlcHQiLCJmaWxlS2V5IiwidGV4dCIsInBhcnNlZCIsInVybCIsInVwbG9hZCIsInN0YXR1cyIsImRhdGEyIiwicmVhc29uIiwidG9PYmplY3QiLCJVVEFwaSIsImNvbnN0cnVjdG9yIiwiZ2xvYmFsVGhpcyIsImRlZmF1bHRIZWFkZXJzIiwicmVxdWVzdFVwbG9hZFRoaW5nIiwicGF0aG5hbWUiLCJmYWxsYmFja0Vycm9yTWVzc2FnZSIsImNvbnNvbGUiLCJ1cGxvYWRGaWxlcyIsImZpbGVzVG9VcGxvYWQiLCJBcnJheSIsImlzQXJyYXkiLCJ1cGxvYWRGaWxlUmVzcG9uc2UiLCJ1cGxvYWRGaWxlc0Zyb21VcmwiLCJ1cmxzIiwiZmlsZVVybHMiLCJhbGwiLCJVUkwiLCJmaWxlbmFtZSIsInNwbGl0IiwicG9wIiwiZmlsZVJlc3BvbnNlIiwiYmxvYiIsImRlbGV0ZUZpbGVzIiwiZmlsZUtleXMiLCJnZXRGaWxlVXJscyIsImxpc3RGaWxlcyIsInJlbmFtZUZpbGUiLCJ1cGRhdGVzIiwiZ2V0VXNhZ2VJbmZvIiwidXRhcGkiLCJjcmVhdGVVcGxvYWR0aGluZyIsImNyZWF0ZVNlcnZlckhhbmRsZXIiLCJyZXF1ZXN0SGFuZGxlciIsIlBPU1QiLCJyZXF1ZXN0IiwicmVxIiwiUmVxdWVzdCIsInJlc3BvbnNlIiwiUmVzcG9uc2UiLCJyb3V0ZXIiLCJnZXRCdWlsZFBlcm1zIiwiR0VUIiwiX3JlcSIsImV4dHJhY3RSb3V0ZXJDb25maWciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/uploadthing/dist/chunk-F3SNDKZQ.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/uploadthing/dist/chunk-T2XS27LC.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/uploadthing/dist/chunk-T2XS27LC.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __commonJS: () => (/* binding */ __commonJS),\n/* harmony export */   __require: () => (/* binding */ __require),\n/* harmony export */   __toESM: () => (/* binding */ __toESM)\n/* harmony export */ });\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __require = /* @__PURE__ */ ((x)=>typeof require !== \"undefined\" ? require : typeof Proxy !== \"undefined\" ? new Proxy(x, {\n        get: (a, b)=>(typeof require !== \"undefined\" ? require : a)[b]\n    }) : x)(function(x) {\n    if (typeof require !== \"undefined\") return require.apply(this, arguments);\n    throw new Error('Dynamic require of \"' + x + '\" is not supported');\n});\nvar __commonJS = (cb, mod)=>function __require2() {\n        return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = {\n            exports: {}\n        }).exports, mod), mod.exports;\n    };\nvar __copyProps = (to, from, except, desc)=>{\n    if (from && typeof from === \"object\" || typeof from === \"function\") {\n        for (let key of __getOwnPropNames(from))if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {\n            get: ()=>from[key],\n            enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable\n        });\n    }\n    return to;\n};\nvar __toESM = (mod, isNodeMode, target)=>(target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(// If the importer is in node compatibility mode or this is not an ESM\n    // file that has been converted to a CommonJS file using a Babel-\n    // compatible transform (i.e. \"__esModule\" has not been set), then set\n    // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n    isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", {\n        value: mod,\n        enumerable: true\n    }) : target, mod));\n //# sourceMappingURL=chunk-T2XS27LC.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9jaHVuay1UMlhTMjdMQy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSUEsV0FBV0MsT0FBT0MsTUFBTTtBQUM1QixJQUFJQyxZQUFZRixPQUFPRyxjQUFjO0FBQ3JDLElBQUlDLG1CQUFtQkosT0FBT0ssd0JBQXdCO0FBQ3RELElBQUlDLG9CQUFvQk4sT0FBT08sbUJBQW1CO0FBQ2xELElBQUlDLGVBQWVSLE9BQU9TLGNBQWM7QUFDeEMsSUFBSUMsZUFBZVYsT0FBT1csU0FBUyxDQUFDQyxjQUFjO0FBQ2xELElBQUlDLFlBQTRCLGFBQUgsR0FBSSxFQUFDQyxJQUFNLE9BQU9DLFlBQVksY0FBY0EsVUFBVSxPQUFPQyxVQUFVLGNBQWMsSUFBSUEsTUFBTUYsR0FBRztRQUM3SEcsS0FBSyxDQUFDQyxHQUFHQyxJQUFNLENBQUMsT0FBT0osWUFBWSxjQUFjQSxVQUFVRyxDQUFBQSxDQUFFLENBQUNDLEVBQUU7SUFDbEUsS0FBS0wsQ0FBQUEsRUFBRyxTQUFTQSxDQUFDO0lBQ2hCLElBQUksT0FBT0MsWUFBWSxhQUNyQixPQUFPQSxRQUFRSyxLQUFLLENBQUMsSUFBSSxFQUFFQztJQUM3QixNQUFNLElBQUlDLE1BQU0seUJBQXlCUixJQUFJO0FBQy9DO0FBQ0EsSUFBSVMsYUFBYSxDQUFDQyxJQUFJQyxNQUFRLFNBQVNDO1FBQ3JDLE9BQU9ELE9BQU8sQ0FBQyxHQUFHRCxFQUFFLENBQUNsQixrQkFBa0JrQixHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQ0MsTUFBTTtZQUFFRSxTQUFTLENBQUM7UUFBRSxHQUFHQSxPQUFPLEVBQUVGLE1BQU1BLElBQUlFLE9BQU87SUFDcEc7QUFDQSxJQUFJQyxjQUFjLENBQUNDLElBQUlDLE1BQU1DLFFBQVFDO0lBQ25DLElBQUlGLFFBQVEsT0FBT0EsU0FBUyxZQUFZLE9BQU9BLFNBQVMsWUFBWTtRQUNsRSxLQUFLLElBQUlHLE9BQU8zQixrQkFBa0J3QixNQUNoQyxJQUFJLENBQUNwQixhQUFhd0IsSUFBSSxDQUFDTCxJQUFJSSxRQUFRQSxRQUFRRixRQUN6QzdCLFVBQVUyQixJQUFJSSxLQUFLO1lBQUVoQixLQUFLLElBQU1hLElBQUksQ0FBQ0csSUFBSTtZQUFFRSxZQUFZLENBQUVILENBQUFBLE9BQU81QixpQkFBaUIwQixNQUFNRyxJQUFHLEtBQU1ELEtBQUtHLFVBQVU7UUFBQztJQUN0SDtJQUNBLE9BQU9OO0FBQ1Q7QUFDQSxJQUFJTyxVQUFVLENBQUNYLEtBQUtZLFlBQVlDLFNBQVlBLENBQUFBLFNBQVNiLE9BQU8sT0FBTzFCLFNBQVNTLGFBQWFpQixRQUFRLENBQUMsR0FBR0csWUFDbkcsc0VBQXNFO0lBQ3RFLGlFQUFpRTtJQUNqRSxzRUFBc0U7SUFDdEUscUVBQXFFO0lBQ3JFUyxjQUFjLENBQUNaLE9BQU8sQ0FBQ0EsSUFBSWMsVUFBVSxHQUFHckMsVUFBVW9DLFFBQVEsV0FBVztRQUFFRSxPQUFPZjtRQUFLVSxZQUFZO0lBQUssS0FBS0csUUFDekdiLElBQ0Y7QUFNRSxDQUNGLDJDQUEyQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RocmVhZHMvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9jaHVuay1UMlhTMjdMQy5tanM/MTU4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19jcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2dldE93blByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xudmFyIF9fZ2V0UHJvdG9PZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcmVxdWlyZSA9IC8qIEBfX1BVUkVfXyAqLyAoKHgpID0+IHR5cGVvZiByZXF1aXJlICE9PSBcInVuZGVmaW5lZFwiID8gcmVxdWlyZSA6IHR5cGVvZiBQcm94eSAhPT0gXCJ1bmRlZmluZWRcIiA/IG5ldyBQcm94eSh4LCB7XG4gIGdldDogKGEsIGIpID0+ICh0eXBlb2YgcmVxdWlyZSAhPT0gXCJ1bmRlZmluZWRcIiA/IHJlcXVpcmUgOiBhKVtiXVxufSkgOiB4KShmdW5jdGlvbih4KSB7XG4gIGlmICh0eXBlb2YgcmVxdWlyZSAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICByZXR1cm4gcmVxdWlyZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB0aHJvdyBuZXcgRXJyb3IoJ0R5bmFtaWMgcmVxdWlyZSBvZiBcIicgKyB4ICsgJ1wiIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn0pO1xudmFyIF9fY29tbW9uSlMgPSAoY2IsIG1vZCkgPT4gZnVuY3Rpb24gX19yZXF1aXJlMigpIHtcbiAgcmV0dXJuIG1vZCB8fCAoMCwgY2JbX19nZXRPd25Qcm9wTmFtZXMoY2IpWzBdXSkoKG1vZCA9IHsgZXhwb3J0czoge30gfSkuZXhwb3J0cywgbW9kKSwgbW9kLmV4cG9ydHM7XG59O1xudmFyIF9fY29weVByb3BzID0gKHRvLCBmcm9tLCBleGNlcHQsIGRlc2MpID0+IHtcbiAgaWYgKGZyb20gJiYgdHlwZW9mIGZyb20gPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGZyb20gPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGZvciAobGV0IGtleSBvZiBfX2dldE93blByb3BOYW1lcyhmcm9tKSlcbiAgICAgIGlmICghX19oYXNPd25Qcm9wLmNhbGwodG8sIGtleSkgJiYga2V5ICE9PSBleGNlcHQpXG4gICAgICAgIF9fZGVmUHJvcCh0bywga2V5LCB7IGdldDogKCkgPT4gZnJvbVtrZXldLCBlbnVtZXJhYmxlOiAhKGRlc2MgPSBfX2dldE93blByb3BEZXNjKGZyb20sIGtleSkpIHx8IGRlc2MuZW51bWVyYWJsZSB9KTtcbiAgfVxuICByZXR1cm4gdG87XG59O1xudmFyIF9fdG9FU00gPSAobW9kLCBpc05vZGVNb2RlLCB0YXJnZXQpID0+ICh0YXJnZXQgPSBtb2QgIT0gbnVsbCA/IF9fY3JlYXRlKF9fZ2V0UHJvdG9PZihtb2QpKSA6IHt9LCBfX2NvcHlQcm9wcyhcbiAgLy8gSWYgdGhlIGltcG9ydGVyIGlzIGluIG5vZGUgY29tcGF0aWJpbGl0eSBtb2RlIG9yIHRoaXMgaXMgbm90IGFuIEVTTVxuICAvLyBmaWxlIHRoYXQgaGFzIGJlZW4gY29udmVydGVkIHRvIGEgQ29tbW9uSlMgZmlsZSB1c2luZyBhIEJhYmVsLVxuICAvLyBjb21wYXRpYmxlIHRyYW5zZm9ybSAoaS5lLiBcIl9fZXNNb2R1bGVcIiBoYXMgbm90IGJlZW4gc2V0KSwgdGhlbiBzZXRcbiAgLy8gXCJkZWZhdWx0XCIgdG8gdGhlIENvbW1vbkpTIFwibW9kdWxlLmV4cG9ydHNcIiBmb3Igbm9kZSBjb21wYXRpYmlsaXR5LlxuICBpc05vZGVNb2RlIHx8ICFtb2QgfHwgIW1vZC5fX2VzTW9kdWxlID8gX19kZWZQcm9wKHRhcmdldCwgXCJkZWZhdWx0XCIsIHsgdmFsdWU6IG1vZCwgZW51bWVyYWJsZTogdHJ1ZSB9KSA6IHRhcmdldCxcbiAgbW9kXG4pKTtcblxuZXhwb3J0IHtcbiAgX19yZXF1aXJlLFxuICBfX2NvbW1vbkpTLFxuICBfX3RvRVNNXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstVDJYUzI3TEMubWpzLm1hcCJdLCJuYW1lcyI6WyJfX2NyZWF0ZSIsIk9iamVjdCIsImNyZWF0ZSIsIl9fZGVmUHJvcCIsImRlZmluZVByb3BlcnR5IiwiX19nZXRPd25Qcm9wRGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIl9fZ2V0T3duUHJvcE5hbWVzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsIl9fZ2V0UHJvdG9PZiIsImdldFByb3RvdHlwZU9mIiwiX19oYXNPd25Qcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJfX3JlcXVpcmUiLCJ4IiwicmVxdWlyZSIsIlByb3h5IiwiZ2V0IiwiYSIsImIiLCJhcHBseSIsImFyZ3VtZW50cyIsIkVycm9yIiwiX19jb21tb25KUyIsImNiIiwibW9kIiwiX19yZXF1aXJlMiIsImV4cG9ydHMiLCJfX2NvcHlQcm9wcyIsInRvIiwiZnJvbSIsImV4Y2VwdCIsImRlc2MiLCJrZXkiLCJjYWxsIiwiZW51bWVyYWJsZSIsIl9fdG9FU00iLCJpc05vZGVNb2RlIiwidGFyZ2V0IiwiX19lc01vZHVsZSIsInZhbHVlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/uploadthing/dist/chunk-T2XS27LC.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/uploadthing/dist/chunk-WPSY3MFJ.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/uploadthing/dist/chunk-WPSY3MFJ.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   incompatibleNodeGuard: () => (/* binding */ incompatibleNodeGuard)\n/* harmony export */ });\n// src/internal/incompat-node-guard.ts\nfunction incompatibleNodeGuard() {\n    var _a, _b, _c, _d;\n    if (typeof process === \"undefined\") return;\n    let major;\n    let minor;\n    const maybeNodeVersion = (_b = (_a = process.versions) == null ? void 0 : _a.node) == null ? void 0 : _b.split(\".\");\n    if (maybeNodeVersion) {\n        [major, minor] = maybeNodeVersion.map((v)=>parseInt(v, 10));\n    }\n    const maybeNodePath = (_c = process.env) == null ? void 0 : _c.NODE;\n    if (!major && maybeNodePath) {\n        const nodeVersion = (_d = /v(\\d+)\\.(\\d+)\\.(\\d+)/.exec(maybeNodePath)) == null ? void 0 : _d[0];\n        if (nodeVersion) {\n            [major, minor] = nodeVersion.substring(1).split(\".\").map((v)=>parseInt(v, 10));\n        }\n    }\n    if (!major || !minor) return;\n    if (major > 18) return;\n    if (major === 18 && minor >= 13) return;\n    console.error(`[UT]: YOU ARE USING A LEGACY (${major}.${minor}) NODE VERSION WHICH ISN'T OFFICIALLY SUPPORTED. PLEASE UPGRADE TO NODE ^18.13.`);\n    process.exit(1);\n}\n //# sourceMappingURL=chunk-WPSY3MFJ.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9jaHVuay1XUFNZM01GSi5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLHNDQUFzQztBQUN0QyxTQUFTQTtJQUNQLElBQUlDLElBQUlDLElBQUlDLElBQUlDO0lBQ2hCLElBQUksT0FBT0MsWUFBWSxhQUNyQjtJQUNGLElBQUlDO0lBQ0osSUFBSUM7SUFDSixNQUFNQyxtQkFBbUIsQ0FBQ04sS0FBSyxDQUFDRCxLQUFLSSxRQUFRSSxRQUFRLEtBQUssT0FBTyxLQUFLLElBQUlSLEdBQUdTLElBQUksS0FBSyxPQUFPLEtBQUssSUFBSVIsR0FBR1MsS0FBSyxDQUFDO0lBQy9HLElBQUlILGtCQUFrQjtRQUNwQixDQUFDRixPQUFPQyxNQUFNLEdBQUdDLGlCQUFpQkksR0FBRyxDQUFDLENBQUNDLElBQU1DLFNBQVNELEdBQUc7SUFDM0Q7SUFDQSxNQUFNRSxnQkFBZ0IsQ0FBQ1osS0FBS0UsUUFBUVcsR0FBRyxLQUFLLE9BQU8sS0FBSyxJQUFJYixHQUFHYyxJQUFJO0lBQ25FLElBQUksQ0FBQ1gsU0FBU1MsZUFBZTtRQUMzQixNQUFNRyxjQUFjLENBQUNkLEtBQUssdUJBQXVCZSxJQUFJLENBQUNKLGNBQWEsS0FBTSxPQUFPLEtBQUssSUFBSVgsRUFBRSxDQUFDLEVBQUU7UUFDOUYsSUFBSWMsYUFBYTtZQUNmLENBQUNaLE9BQU9DLE1BQU0sR0FBR1csWUFBWUUsU0FBUyxDQUFDLEdBQUdULEtBQUssQ0FBQyxLQUFLQyxHQUFHLENBQUMsQ0FBQ0MsSUFBTUMsU0FBU0QsR0FBRztRQUM5RTtJQUNGO0lBQ0EsSUFBSSxDQUFDUCxTQUFTLENBQUNDLE9BQ2I7SUFDRixJQUFJRCxRQUFRLElBQ1Y7SUFDRixJQUFJQSxVQUFVLE1BQU1DLFNBQVMsSUFDM0I7SUFDRmMsUUFBUUMsS0FBSyxDQUNYLENBQUMsOEJBQThCLEVBQUVoQixNQUFNLENBQUMsRUFBRUMsTUFBTSwrRUFBK0UsQ0FBQztJQUVsSUYsUUFBUWtCLElBQUksQ0FBQztBQUNmO0FBSUUsQ0FDRiwyQ0FBMkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlYWRzLy4vbm9kZV9tb2R1bGVzL3VwbG9hZHRoaW5nL2Rpc3QvY2h1bmstV1BTWTNNRkoubWpzPzdiNTQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2ludGVybmFsL2luY29tcGF0LW5vZGUtZ3VhcmQudHNcbmZ1bmN0aW9uIGluY29tcGF0aWJsZU5vZGVHdWFyZCgpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgcmV0dXJuO1xuICBsZXQgbWFqb3I7XG4gIGxldCBtaW5vcjtcbiAgY29uc3QgbWF5YmVOb2RlVmVyc2lvbiA9IChfYiA9IChfYSA9IHByb2Nlc3MudmVyc2lvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5ub2RlKSA9PSBudWxsID8gdm9pZCAwIDogX2Iuc3BsaXQoXCIuXCIpO1xuICBpZiAobWF5YmVOb2RlVmVyc2lvbikge1xuICAgIFttYWpvciwgbWlub3JdID0gbWF5YmVOb2RlVmVyc2lvbi5tYXAoKHYpID0+IHBhcnNlSW50KHYsIDEwKSk7XG4gIH1cbiAgY29uc3QgbWF5YmVOb2RlUGF0aCA9IChfYyA9IHByb2Nlc3MuZW52KSA9PSBudWxsID8gdm9pZCAwIDogX2MuTk9ERTtcbiAgaWYgKCFtYWpvciAmJiBtYXliZU5vZGVQYXRoKSB7XG4gICAgY29uc3Qgbm9kZVZlcnNpb24gPSAoX2QgPSAvdihcXGQrKVxcLihcXGQrKVxcLihcXGQrKS8uZXhlYyhtYXliZU5vZGVQYXRoKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kWzBdO1xuICAgIGlmIChub2RlVmVyc2lvbikge1xuICAgICAgW21ham9yLCBtaW5vcl0gPSBub2RlVmVyc2lvbi5zdWJzdHJpbmcoMSkuc3BsaXQoXCIuXCIpLm1hcCgodikgPT4gcGFyc2VJbnQodiwgMTApKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFtYWpvciB8fCAhbWlub3IpXG4gICAgcmV0dXJuO1xuICBpZiAobWFqb3IgPiAxOClcbiAgICByZXR1cm47XG4gIGlmIChtYWpvciA9PT0gMTggJiYgbWlub3IgPj0gMTMpXG4gICAgcmV0dXJuO1xuICBjb25zb2xlLmVycm9yKFxuICAgIGBbVVRdOiBZT1UgQVJFIFVTSU5HIEEgTEVHQUNZICgke21ham9yfS4ke21pbm9yfSkgTk9ERSBWRVJTSU9OIFdISUNIIElTTidUIE9GRklDSUFMTFkgU1VQUE9SVEVELiBQTEVBU0UgVVBHUkFERSBUTyBOT0RFIF4xOC4xMy5gXG4gICk7XG4gIHByb2Nlc3MuZXhpdCgxKTtcbn1cblxuZXhwb3J0IHtcbiAgaW5jb21wYXRpYmxlTm9kZUd1YXJkXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstV1BTWTNNRkoubWpzLm1hcCJdLCJuYW1lcyI6WyJpbmNvbXBhdGlibGVOb2RlR3VhcmQiLCJfYSIsIl9iIiwiX2MiLCJfZCIsInByb2Nlc3MiLCJtYWpvciIsIm1pbm9yIiwibWF5YmVOb2RlVmVyc2lvbiIsInZlcnNpb25zIiwibm9kZSIsInNwbGl0IiwibWFwIiwidiIsInBhcnNlSW50IiwibWF5YmVOb2RlUGF0aCIsImVudiIsIk5PREUiLCJub2RlVmVyc2lvbiIsImV4ZWMiLCJzdWJzdHJpbmciLCJjb25zb2xlIiwiZXJyb3IiLCJleGl0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/uploadthing/dist/chunk-WPSY3MFJ.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/uploadthing/dist/next.mjs":
/*!************************************************!*\
  !*** ./node_modules/uploadthing/dist/next.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createNextRouteHandler: () => (/* binding */ createNextRouteHandler),\n/* harmony export */   createUploadthing: () => (/* binding */ createUploadthing)\n/* harmony export */ });\n/* harmony import */ var _chunk_F3SNDKZQ_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-F3SNDKZQ.mjs */ \"(rsc)/./node_modules/uploadthing/dist/chunk-F3SNDKZQ.mjs\");\n/* harmony import */ var _chunk_5KWT532U_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-5KWT532U.mjs */ \"(rsc)/./node_modules/uploadthing/dist/chunk-5KWT532U.mjs\");\n/* harmony import */ var _chunk_WPSY3MFJ_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-WPSY3MFJ.mjs */ \"(rsc)/./node_modules/uploadthing/dist/chunk-WPSY3MFJ.mjs\");\n/* harmony import */ var _chunk_BPTHKJTK_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-BPTHKJTK.mjs */ \"(rsc)/./node_modules/uploadthing/dist/chunk-BPTHKJTK.mjs\");\n/* harmony import */ var _chunk_T2XS27LC_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-T2XS27LC.mjs */ \"(rsc)/./node_modules/uploadthing/dist/chunk-T2XS27LC.mjs\");\n\n\n\n\n\n// src/next.ts\nvar createUploadthing = (opts)=>(0,_chunk_BPTHKJTK_mjs__WEBPACK_IMPORTED_MODULE_3__.createBuilder)(opts);\nvar createNextRouteHandler = (opts)=>{\n    const handlers = (0,_chunk_F3SNDKZQ_mjs__WEBPACK_IMPORTED_MODULE_0__.createServerHandler)(opts);\n    return {\n        POST: (req)=>handlers.POST(req),\n        GET: (req)=>handlers.GET(req)\n    };\n};\n //# sourceMappingURL=next.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9uZXh0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRThCO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFOUIsY0FBYztBQUNkLElBQUlFLG9CQUFvQixDQUFDQyxPQUFTRixrRUFBYUEsQ0FBQ0U7QUFDaEQsSUFBSUMseUJBQXlCLENBQUNEO0lBQzVCLE1BQU1FLFdBQVdMLHdFQUFtQkEsQ0FBQ0c7SUFDckMsT0FBTztRQUNMRyxNQUFNLENBQUNDLE1BQVFGLFNBQVNDLElBQUksQ0FBQ0M7UUFDN0JDLEtBQUssQ0FBQ0QsTUFBUUYsU0FBU0csR0FBRyxDQUFDRDtJQUM3QjtBQUNGO0FBSUUsQ0FDRixpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlYWRzLy4vbm9kZV9tb2R1bGVzL3VwbG9hZHRoaW5nL2Rpc3QvbmV4dC5tanM/YzU1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBjcmVhdGVTZXJ2ZXJIYW5kbGVyXG59IGZyb20gXCIuL2NodW5rLUYzU05ES1pRLm1qc1wiO1xuaW1wb3J0IFwiLi9jaHVuay01S1dUNTMyVS5tanNcIjtcbmltcG9ydCBcIi4vY2h1bmstV1BTWTNNRkoubWpzXCI7XG5pbXBvcnQge1xuICBjcmVhdGVCdWlsZGVyXG59IGZyb20gXCIuL2NodW5rLUJQVEhLSlRLLm1qc1wiO1xuaW1wb3J0IFwiLi9jaHVuay1UMlhTMjdMQy5tanNcIjtcblxuLy8gc3JjL25leHQudHNcbnZhciBjcmVhdGVVcGxvYWR0aGluZyA9IChvcHRzKSA9PiBjcmVhdGVCdWlsZGVyKG9wdHMpO1xudmFyIGNyZWF0ZU5leHRSb3V0ZUhhbmRsZXIgPSAob3B0cykgPT4ge1xuICBjb25zdCBoYW5kbGVycyA9IGNyZWF0ZVNlcnZlckhhbmRsZXIob3B0cyk7XG4gIHJldHVybiB7XG4gICAgUE9TVDogKHJlcSkgPT4gaGFuZGxlcnMuUE9TVChyZXEpLFxuICAgIEdFVDogKHJlcSkgPT4gaGFuZGxlcnMuR0VUKHJlcSlcbiAgfTtcbn07XG5leHBvcnQge1xuICBjcmVhdGVOZXh0Um91dGVIYW5kbGVyLFxuICBjcmVhdGVVcGxvYWR0aGluZ1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5leHQubWpzLm1hcCJdLCJuYW1lcyI6WyJjcmVhdGVTZXJ2ZXJIYW5kbGVyIiwiY3JlYXRlQnVpbGRlciIsImNyZWF0ZVVwbG9hZHRoaW5nIiwib3B0cyIsImNyZWF0ZU5leHRSb3V0ZUhhbmRsZXIiLCJoYW5kbGVycyIsIlBPU1QiLCJyZXEiLCJHRVQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/uploadthing/dist/next.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/uploadthing/dist/chunk-5KWT532U.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/uploadthing/dist/chunk-5KWT532U.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   maybeParseResponseXML: () => (/* binding */ maybeParseResponseXML)\n/* harmony export */ });\n// src/internal/s3-error-parser.ts\nvar maybeParseResponseXML = (maybeXml) => {\n  const codeMatch = maybeXml.match(/<Code>(.*?)<\\/Code>/s);\n  const messageMatch = maybeXml.match(/<Message>(.*?)<\\/Message>/s);\n  const code = codeMatch == null ? void 0 : codeMatch[1];\n  const message = messageMatch == null ? void 0 : messageMatch[1];\n  if (!code || !message)\n    return null;\n  return { code: s3CodeToUploadThingCode[code] ?? DEFAULT_ERROR_CODE, message };\n};\nvar DEFAULT_ERROR_CODE = \"UPLOAD_FAILED\";\nvar s3CodeToUploadThingCode = {\n  AccessDenied: \"FORBIDDEN\",\n  // 403 Forbidden\n  EntityTooSmall: \"TOO_SMALL\",\n  // 400 Bad Request\n  EntityTooLarge: \"TOO_LARGE\",\n  // 400 Bad Request\n  ExpiredToken: \"FORBIDDEN\",\n  // 400 Bad Request\n  IncorrectNumberOfFilesInPostRequest: \"TOO_MANY_FILES\",\n  // 400 Bad Request\n  InternalError: \"INTERNAL_SERVER_ERROR\",\n  // 500 Internal Server Error\n  KeyTooLongError: \"KEY_TOO_LONG\",\n  // 400 Bad Request\n  MaxMessageLengthExceeded: \"TOO_LARGE\"\n  // 400 Bad Request\n};\n\n\n//# sourceMappingURL=chunk-5KWT532U.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9jaHVuay01S1dUNTMyVS5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhyZWFkcy8uL25vZGVfbW9kdWxlcy91cGxvYWR0aGluZy9kaXN0L2NodW5rLTVLV1Q1MzJVLm1qcz8wODRjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9pbnRlcm5hbC9zMy1lcnJvci1wYXJzZXIudHNcbnZhciBtYXliZVBhcnNlUmVzcG9uc2VYTUwgPSAobWF5YmVYbWwpID0+IHtcbiAgY29uc3QgY29kZU1hdGNoID0gbWF5YmVYbWwubWF0Y2goLzxDb2RlPiguKj8pPFxcL0NvZGU+L3MpO1xuICBjb25zdCBtZXNzYWdlTWF0Y2ggPSBtYXliZVhtbC5tYXRjaCgvPE1lc3NhZ2U+KC4qPyk8XFwvTWVzc2FnZT4vcyk7XG4gIGNvbnN0IGNvZGUgPSBjb2RlTWF0Y2ggPT0gbnVsbCA/IHZvaWQgMCA6IGNvZGVNYXRjaFsxXTtcbiAgY29uc3QgbWVzc2FnZSA9IG1lc3NhZ2VNYXRjaCA9PSBudWxsID8gdm9pZCAwIDogbWVzc2FnZU1hdGNoWzFdO1xuICBpZiAoIWNvZGUgfHwgIW1lc3NhZ2UpXG4gICAgcmV0dXJuIG51bGw7XG4gIHJldHVybiB7IGNvZGU6IHMzQ29kZVRvVXBsb2FkVGhpbmdDb2RlW2NvZGVdID8/IERFRkFVTFRfRVJST1JfQ09ERSwgbWVzc2FnZSB9O1xufTtcbnZhciBERUZBVUxUX0VSUk9SX0NPREUgPSBcIlVQTE9BRF9GQUlMRURcIjtcbnZhciBzM0NvZGVUb1VwbG9hZFRoaW5nQ29kZSA9IHtcbiAgQWNjZXNzRGVuaWVkOiBcIkZPUkJJRERFTlwiLFxuICAvLyA0MDMgRm9yYmlkZGVuXG4gIEVudGl0eVRvb1NtYWxsOiBcIlRPT19TTUFMTFwiLFxuICAvLyA0MDAgQmFkIFJlcXVlc3RcbiAgRW50aXR5VG9vTGFyZ2U6IFwiVE9PX0xBUkdFXCIsXG4gIC8vIDQwMCBCYWQgUmVxdWVzdFxuICBFeHBpcmVkVG9rZW46IFwiRk9SQklEREVOXCIsXG4gIC8vIDQwMCBCYWQgUmVxdWVzdFxuICBJbmNvcnJlY3ROdW1iZXJPZkZpbGVzSW5Qb3N0UmVxdWVzdDogXCJUT09fTUFOWV9GSUxFU1wiLFxuICAvLyA0MDAgQmFkIFJlcXVlc3RcbiAgSW50ZXJuYWxFcnJvcjogXCJJTlRFUk5BTF9TRVJWRVJfRVJST1JcIixcbiAgLy8gNTAwIEludGVybmFsIFNlcnZlciBFcnJvclxuICBLZXlUb29Mb25nRXJyb3I6IFwiS0VZX1RPT19MT05HXCIsXG4gIC8vIDQwMCBCYWQgUmVxdWVzdFxuICBNYXhNZXNzYWdlTGVuZ3RoRXhjZWVkZWQ6IFwiVE9PX0xBUkdFXCJcbiAgLy8gNDAwIEJhZCBSZXF1ZXN0XG59O1xuXG5leHBvcnQge1xuICBtYXliZVBhcnNlUmVzcG9uc2VYTUxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay01S1dUNTMyVS5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/uploadthing/dist/chunk-5KWT532U.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/uploadthing/dist/chunk-T2XS27LC.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/uploadthing/dist/chunk-T2XS27LC.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __commonJS: () => (/* binding */ __commonJS),\n/* harmony export */   __require: () => (/* binding */ __require),\n/* harmony export */   __toESM: () => (/* binding */ __toESM)\n/* harmony export */ });\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __require = /* @__PURE__ */ ((x) => typeof require !== \"undefined\" ? require : typeof Proxy !== \"undefined\" ? new Proxy(x, {\n  get: (a, b) => (typeof require !== \"undefined\" ? require : a)[b]\n}) : x)(function(x) {\n  if (typeof require !== \"undefined\")\n    return require.apply(this, arguments);\n  throw new Error('Dynamic require of \"' + x + '\" is not supported');\n});\nvar __commonJS = (cb, mod) => function __require2() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\n\n\n//# sourceMappingURL=chunk-T2XS27LC.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9jaHVuay1UMlhTMjdMQy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwyREFBMkQsYUFBYTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDRGQUE0RjtBQUN6SDtBQUNBO0FBQ0E7QUFDQSxtR0FBbUc7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsOEJBQThCO0FBQ3ZHO0FBQ0E7O0FBTUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3RocmVhZHMvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9jaHVuay1UMlhTMjdMQy5tanM/ZWQ4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19jcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2dldE93blByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xudmFyIF9fZ2V0UHJvdG9PZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcmVxdWlyZSA9IC8qIEBfX1BVUkVfXyAqLyAoKHgpID0+IHR5cGVvZiByZXF1aXJlICE9PSBcInVuZGVmaW5lZFwiID8gcmVxdWlyZSA6IHR5cGVvZiBQcm94eSAhPT0gXCJ1bmRlZmluZWRcIiA/IG5ldyBQcm94eSh4LCB7XG4gIGdldDogKGEsIGIpID0+ICh0eXBlb2YgcmVxdWlyZSAhPT0gXCJ1bmRlZmluZWRcIiA/IHJlcXVpcmUgOiBhKVtiXVxufSkgOiB4KShmdW5jdGlvbih4KSB7XG4gIGlmICh0eXBlb2YgcmVxdWlyZSAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICByZXR1cm4gcmVxdWlyZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB0aHJvdyBuZXcgRXJyb3IoJ0R5bmFtaWMgcmVxdWlyZSBvZiBcIicgKyB4ICsgJ1wiIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn0pO1xudmFyIF9fY29tbW9uSlMgPSAoY2IsIG1vZCkgPT4gZnVuY3Rpb24gX19yZXF1aXJlMigpIHtcbiAgcmV0dXJuIG1vZCB8fCAoMCwgY2JbX19nZXRPd25Qcm9wTmFtZXMoY2IpWzBdXSkoKG1vZCA9IHsgZXhwb3J0czoge30gfSkuZXhwb3J0cywgbW9kKSwgbW9kLmV4cG9ydHM7XG59O1xudmFyIF9fY29weVByb3BzID0gKHRvLCBmcm9tLCBleGNlcHQsIGRlc2MpID0+IHtcbiAgaWYgKGZyb20gJiYgdHlwZW9mIGZyb20gPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGZyb20gPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGZvciAobGV0IGtleSBvZiBfX2dldE93blByb3BOYW1lcyhmcm9tKSlcbiAgICAgIGlmICghX19oYXNPd25Qcm9wLmNhbGwodG8sIGtleSkgJiYga2V5ICE9PSBleGNlcHQpXG4gICAgICAgIF9fZGVmUHJvcCh0bywga2V5LCB7IGdldDogKCkgPT4gZnJvbVtrZXldLCBlbnVtZXJhYmxlOiAhKGRlc2MgPSBfX2dldE93blByb3BEZXNjKGZyb20sIGtleSkpIHx8IGRlc2MuZW51bWVyYWJsZSB9KTtcbiAgfVxuICByZXR1cm4gdG87XG59O1xudmFyIF9fdG9FU00gPSAobW9kLCBpc05vZGVNb2RlLCB0YXJnZXQpID0+ICh0YXJnZXQgPSBtb2QgIT0gbnVsbCA/IF9fY3JlYXRlKF9fZ2V0UHJvdG9PZihtb2QpKSA6IHt9LCBfX2NvcHlQcm9wcyhcbiAgLy8gSWYgdGhlIGltcG9ydGVyIGlzIGluIG5vZGUgY29tcGF0aWJpbGl0eSBtb2RlIG9yIHRoaXMgaXMgbm90IGFuIEVTTVxuICAvLyBmaWxlIHRoYXQgaGFzIGJlZW4gY29udmVydGVkIHRvIGEgQ29tbW9uSlMgZmlsZSB1c2luZyBhIEJhYmVsLVxuICAvLyBjb21wYXRpYmxlIHRyYW5zZm9ybSAoaS5lLiBcIl9fZXNNb2R1bGVcIiBoYXMgbm90IGJlZW4gc2V0KSwgdGhlbiBzZXRcbiAgLy8gXCJkZWZhdWx0XCIgdG8gdGhlIENvbW1vbkpTIFwibW9kdWxlLmV4cG9ydHNcIiBmb3Igbm9kZSBjb21wYXRpYmlsaXR5LlxuICBpc05vZGVNb2RlIHx8ICFtb2QgfHwgIW1vZC5fX2VzTW9kdWxlID8gX19kZWZQcm9wKHRhcmdldCwgXCJkZWZhdWx0XCIsIHsgdmFsdWU6IG1vZCwgZW51bWVyYWJsZTogdHJ1ZSB9KSA6IHRhcmdldCxcbiAgbW9kXG4pKTtcblxuZXhwb3J0IHtcbiAgX19yZXF1aXJlLFxuICBfX2NvbW1vbkpTLFxuICBfX3RvRVNNXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstVDJYUzI3TEMubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/uploadthing/dist/chunk-T2XS27LC.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/uploadthing/dist/client.mjs":
/*!**************************************************!*\
  !*** ./node_modules/uploadthing/dist/client.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DANGEROUS__uploadFiles: () => (/* binding */ DANGEROUS__uploadFiles),\n/* harmony export */   INTERNAL_doFormatting: () => (/* binding */ INTERNAL_doFormatting),\n/* harmony export */   allowedContentTextLabelGenerator: () => (/* binding */ allowedContentTextLabelGenerator),\n/* harmony export */   capitalizeStart: () => (/* binding */ capitalizeStart),\n/* harmony export */   classNames: () => (/* binding */ classNames),\n/* harmony export */   contentFieldToContent: () => (/* binding */ contentFieldToContent),\n/* harmony export */   genUploader: () => (/* binding */ genUploader),\n/* harmony export */   generateClientDropzoneAccept: () => (/* binding */ generateClientDropzoneAccept),\n/* harmony export */   generateMimeTypes: () => (/* binding */ generateMimeTypes),\n/* harmony export */   generatePermittedFileTypes: () => (/* binding */ generatePermittedFileTypes),\n/* harmony export */   styleFieldToClassName: () => (/* binding */ styleFieldToClassName),\n/* harmony export */   styleFieldToCssObject: () => (/* binding */ styleFieldToCssObject)\n/* harmony export */ });\n/* harmony import */ var _chunk_5KWT532U_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-5KWT532U.mjs */ \"(ssr)/./node_modules/uploadthing/dist/chunk-5KWT532U.mjs\");\n/* harmony import */ var _chunk_T2XS27LC_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-T2XS27LC.mjs */ \"(ssr)/./node_modules/uploadthing/dist/chunk-T2XS27LC.mjs\");\n/* harmony import */ var _uploadthing_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @uploadthing/shared */ \"(ssr)/./node_modules/@uploadthing/shared/dist/index.mjs\");\n\n\n\n// src/client.ts\n\n\n// src/internal/component-theming.ts\n\nvar generatePermittedFileTypes = (config) => {\n  const fileTypes = config ? (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_2__.objectKeys)(config) : [];\n  const maxFileCount = config ? Object.values(config).map((v) => v.maxFileCount) : [];\n  return { fileTypes, multiple: maxFileCount.some((v) => v && v > 1) };\n};\nvar capitalizeStart = (str) => {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n};\nvar INTERNAL_doFormatting = (config) => {\n  if (!config)\n    return \"\";\n  const allowedTypes = (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_2__.objectKeys)(config);\n  const formattedTypes = allowedTypes.map((f) => f === \"blob\" ? \"file\" : f);\n  if (formattedTypes.length > 1) {\n    const lastType = formattedTypes.pop();\n    return `${formattedTypes.join(\"s, \")} and ${lastType}s`;\n  }\n  const key = allowedTypes[0];\n  const formattedKey = formattedTypes[0];\n  const { maxFileSize, maxFileCount } = config[key];\n  if (maxFileCount && maxFileCount > 1) {\n    return `${formattedKey}s up to ${maxFileSize}, max ${maxFileCount}`;\n  } else {\n    return `${formattedKey} (${maxFileSize})`;\n  }\n};\nvar allowedContentTextLabelGenerator = (config) => {\n  return capitalizeStart(INTERNAL_doFormatting(config));\n};\nvar styleFieldToClassName = (styleField, args) => {\n  if (typeof styleField === \"string\")\n    return styleField;\n  if (typeof styleField === \"function\") {\n    const result = styleField(args);\n    if (typeof result === \"string\")\n      return result;\n  }\n  return \"\";\n};\nvar styleFieldToCssObject = (styleField, args) => {\n  if (typeof styleField === \"object\")\n    return styleField;\n  if (typeof styleField === \"function\") {\n    const result = styleField(args);\n    if (typeof result === \"object\")\n      return result;\n  }\n  return {};\n};\nvar contentFieldToContent = (contentField, arg) => {\n  if (!contentField)\n    return null;\n  if (typeof contentField !== \"function\")\n    return contentField;\n  if (typeof contentField === \"function\") {\n    const result = contentField(arg);\n    return result;\n  }\n};\n\n// src/client.ts\nfunction fetchWithProgress(url, opts = {}, onProgress, onUploadBegin) {\n  return new Promise((res, rej) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open(opts.method ?? \"get\", url);\n    opts.headers && Object.keys(opts.headers).forEach(\n      (h) => opts.headers && xhr.setRequestHeader(h, opts.headers.get(h) ?? \"\")\n    );\n    xhr.onload = (e) => {\n      res(e.target);\n    };\n    xhr.onerror = rej;\n    if (xhr.upload && onProgress)\n      xhr.upload.onprogress = onProgress;\n    if (xhr.upload && onUploadBegin)\n      xhr.upload.onloadstart = onUploadBegin;\n    xhr.send(opts.body);\n  });\n}\nvar createAPIRequestUrl = (config) => {\n  const url = new URL(\n    config.url ?? `${window.location.origin}/api/uploadthing`\n  );\n  const queryParams = new URLSearchParams(url.search);\n  queryParams.set(\"actionType\", config.actionType);\n  queryParams.set(\"slug\", config.slug);\n  url.search = queryParams.toString();\n  return url.toString();\n};\nvar DANGEROUS__uploadFiles = async (opts, config) => {\n  const s3ConnectionRes = await fetch(\n    createAPIRequestUrl({\n      url: config == null ? void 0 : config.url,\n      slug: String(opts.endpoint),\n      actionType: \"upload\"\n    }),\n    {\n      method: \"POST\",\n      body: JSON.stringify({\n        files: opts.files.map((f) => f.name),\n        input: opts.input\n      }),\n      // Express requires Content-Type to be explicitly set to parse body properly\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }\n  ).then(async (res) => {\n    if (!res.ok) {\n      const error = await _uploadthing_shared__WEBPACK_IMPORTED_MODULE_2__.UploadThingError.fromResponse(res);\n      throw error;\n    }\n    const jsonOrError = await (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_2__.safeParseJSON)(res);\n    if (jsonOrError instanceof Error) {\n      throw new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_2__.UploadThingError({\n        code: \"BAD_REQUEST\",\n        message: jsonOrError.message,\n        cause: res\n      });\n    }\n    return jsonOrError;\n  });\n  if (!s3ConnectionRes || !Array.isArray(s3ConnectionRes)) {\n    throw new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_2__.UploadThingError({\n      code: \"BAD_REQUEST\",\n      message: \"No URL. How did you even get here?\",\n      cause: s3ConnectionRes\n    });\n  }\n  const fileUploadPromises = s3ConnectionRes.map(async (presigned) => {\n    const file = opts.files.find((f) => f.name === presigned.name);\n    if (!file) {\n      console.error(\"No file found for presigned URL\", presigned);\n      throw new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_2__.UploadThingError({\n        code: \"NOT_FOUND\",\n        message: \"No file found for presigned URL\",\n        cause: `Expected file with name ${presigned.name} but got '${opts.files.join(\",\")}'`\n      });\n    }\n    const { url, fields } = presigned.presignedUrl;\n    const formData = new FormData();\n    if (presigned.fileType === file.type.split(\"/\")[0] || presigned.fileType === file.type) {\n      formData.append(\"Content-Type\", file.type);\n    } else if (presigned.fileType === \"blob\") {\n      formData.append(\"Content-Type\", \"application/octet-stream\");\n    } else if (presigned.fileType === \"pdf\") {\n      formData.append(\"Content-Type\", \"application/pdf\");\n    }\n    Object.entries({ ...fields, file }).forEach(([key, value]) => {\n      formData.append(key, value);\n    });\n    const upload = await fetchWithProgress(\n      url,\n      {\n        method: \"POST\",\n        body: formData,\n        headers: new Headers({\n          Accept: \"application/xml\"\n        })\n      },\n      (progressEvent) => {\n        var _a;\n        return (_a = opts.onUploadProgress) == null ? void 0 : _a.call(opts, {\n          file: file.name,\n          progress: progressEvent.loaded / progressEvent.total * 100\n        });\n      },\n      () => {\n        var _a;\n        (_a = opts.onUploadBegin) == null ? void 0 : _a.call(opts, {\n          file: file.name\n        });\n      }\n    );\n    if (upload.status > 299 || upload.status < 200) {\n      await fetch(\n        createAPIRequestUrl({\n          url: config == null ? void 0 : config.url,\n          slug: String(opts.endpoint),\n          actionType: \"failure\"\n        }),\n        {\n          method: \"POST\",\n          body: JSON.stringify({\n            fileKey: fields.key\n          })\n        }\n      );\n      const parsed = (0,_chunk_5KWT532U_mjs__WEBPACK_IMPORTED_MODULE_0__.maybeParseResponseXML)(upload.responseText);\n      if (parsed == null ? void 0 : parsed.message) {\n        throw new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_2__.UploadThingError({\n          code: parsed.code,\n          message: parsed.message\n        });\n      } else {\n        throw new _uploadthing_shared__WEBPACK_IMPORTED_MODULE_2__.UploadThingError({\n          code: \"UPLOAD_FAILED\",\n          message: `Failed to upload file ${file.name} to S3`,\n          cause: upload.responseText\n        });\n      }\n    }\n    const genUrl = \"https://utfs.io/f/\" + encodeURIComponent(fields.key);\n    await (0,_uploadthing_shared__WEBPACK_IMPORTED_MODULE_2__.pollForFileData)(presigned.key);\n    const ret = {\n      fileName: file.name,\n      name: file.name,\n      fileSize: file.size,\n      size: file.size,\n      fileKey: presigned.key,\n      key: presigned.key,\n      fileUrl: genUrl,\n      url: genUrl\n    };\n    return ret;\n  });\n  return Promise.all(fileUploadPromises);\n};\nvar genUploader = () => {\n  return DANGEROUS__uploadFiles;\n};\nvar classNames = (...classes) => {\n  return classes.filter(Boolean).join(\" \");\n};\nvar generateMimeTypes = (fileTypes) => {\n  const accepted = fileTypes.map((type) => {\n    if (type === \"blob\")\n      return \"blob\";\n    if (type === \"pdf\")\n      return \"application/pdf\";\n    if (type.includes(\"/\"))\n      return type;\n    else\n      return `${type}/*`;\n  });\n  if (accepted.includes(\"blob\")) {\n    return void 0;\n  }\n  return accepted;\n};\nvar generateClientDropzoneAccept = (fileTypes) => {\n  const mimeTypes = generateMimeTypes(fileTypes);\n  if (!mimeTypes)\n    return void 0;\n  return Object.fromEntries(mimeTypes.map((type) => [type, []]));\n};\n\n//# sourceMappingURL=client.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdXBsb2FkdGhpbmcvZGlzdC9jbGllbnQubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUU4QjtBQUNBOztBQUU5QjtBQUs2Qjs7QUFFN0I7QUFDaUQ7QUFDakQ7QUFDQSw2QkFBNkIsK0RBQVU7QUFDdkM7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsK0RBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0EsY0FBYyw0QkFBNEIsTUFBTSxTQUFTO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBLFVBQVUsNEJBQTRCO0FBQ3RDO0FBQ0EsY0FBYyxhQUFhLFVBQVUsWUFBWSxRQUFRLGFBQWE7QUFDdEUsSUFBSTtBQUNKLGNBQWMsY0FBYyxHQUFHLFlBQVk7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHVCQUF1QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGlFQUFnQjtBQUMxQztBQUNBO0FBQ0EsOEJBQThCLGtFQUFhO0FBQzNDO0FBQ0EsZ0JBQWdCLGlFQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGNBQWMsaUVBQWdCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlFQUFnQjtBQUNoQztBQUNBO0FBQ0EsMENBQTBDLGdCQUFnQixXQUFXLHFCQUFxQjtBQUMxRixPQUFPO0FBQ1A7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxxQkFBcUIsaUJBQWlCO0FBQ3RDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxxQkFBcUIsMEVBQXFCO0FBQzFDO0FBQ0Esa0JBQWtCLGlFQUFnQjtBQUNsQztBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUixrQkFBa0IsaUVBQWdCO0FBQ2xDO0FBQ0EsNENBQTRDLFdBQVc7QUFDdkQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsVUFBVSxvRUFBZTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsS0FBSztBQUNyQixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWNFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlYWRzLy4vbm9kZV9tb2R1bGVzL3VwbG9hZHRoaW5nL2Rpc3QvY2xpZW50Lm1qcz85ZmI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIG1heWJlUGFyc2VSZXNwb25zZVhNTFxufSBmcm9tIFwiLi9jaHVuay01S1dUNTMyVS5tanNcIjtcbmltcG9ydCBcIi4vY2h1bmstVDJYUzI3TEMubWpzXCI7XG5cbi8vIHNyYy9jbGllbnQudHNcbmltcG9ydCB7XG4gIHBvbGxGb3JGaWxlRGF0YSxcbiAgc2FmZVBhcnNlSlNPTixcbiAgVXBsb2FkVGhpbmdFcnJvclxufSBmcm9tIFwiQHVwbG9hZHRoaW5nL3NoYXJlZFwiO1xuXG4vLyBzcmMvaW50ZXJuYWwvY29tcG9uZW50LXRoZW1pbmcudHNcbmltcG9ydCB7IG9iamVjdEtleXMgfSBmcm9tIFwiQHVwbG9hZHRoaW5nL3NoYXJlZFwiO1xudmFyIGdlbmVyYXRlUGVybWl0dGVkRmlsZVR5cGVzID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBmaWxlVHlwZXMgPSBjb25maWcgPyBvYmplY3RLZXlzKGNvbmZpZykgOiBbXTtcbiAgY29uc3QgbWF4RmlsZUNvdW50ID0gY29uZmlnID8gT2JqZWN0LnZhbHVlcyhjb25maWcpLm1hcCgodikgPT4gdi5tYXhGaWxlQ291bnQpIDogW107XG4gIHJldHVybiB7IGZpbGVUeXBlcywgbXVsdGlwbGU6IG1heEZpbGVDb3VudC5zb21lKCh2KSA9PiB2ICYmIHYgPiAxKSB9O1xufTtcbnZhciBjYXBpdGFsaXplU3RhcnQgPSAoc3RyKSA9PiB7XG4gIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XG59O1xudmFyIElOVEVSTkFMX2RvRm9ybWF0dGluZyA9IChjb25maWcpID0+IHtcbiAgaWYgKCFjb25maWcpXG4gICAgcmV0dXJuIFwiXCI7XG4gIGNvbnN0IGFsbG93ZWRUeXBlcyA9IG9iamVjdEtleXMoY29uZmlnKTtcbiAgY29uc3QgZm9ybWF0dGVkVHlwZXMgPSBhbGxvd2VkVHlwZXMubWFwKChmKSA9PiBmID09PSBcImJsb2JcIiA/IFwiZmlsZVwiIDogZik7XG4gIGlmIChmb3JtYXR0ZWRUeXBlcy5sZW5ndGggPiAxKSB7XG4gICAgY29uc3QgbGFzdFR5cGUgPSBmb3JtYXR0ZWRUeXBlcy5wb3AoKTtcbiAgICByZXR1cm4gYCR7Zm9ybWF0dGVkVHlwZXMuam9pbihcInMsIFwiKX0gYW5kICR7bGFzdFR5cGV9c2A7XG4gIH1cbiAgY29uc3Qga2V5ID0gYWxsb3dlZFR5cGVzWzBdO1xuICBjb25zdCBmb3JtYXR0ZWRLZXkgPSBmb3JtYXR0ZWRUeXBlc1swXTtcbiAgY29uc3QgeyBtYXhGaWxlU2l6ZSwgbWF4RmlsZUNvdW50IH0gPSBjb25maWdba2V5XTtcbiAgaWYgKG1heEZpbGVDb3VudCAmJiBtYXhGaWxlQ291bnQgPiAxKSB7XG4gICAgcmV0dXJuIGAke2Zvcm1hdHRlZEtleX1zIHVwIHRvICR7bWF4RmlsZVNpemV9LCBtYXggJHttYXhGaWxlQ291bnR9YDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYCR7Zm9ybWF0dGVkS2V5fSAoJHttYXhGaWxlU2l6ZX0pYDtcbiAgfVxufTtcbnZhciBhbGxvd2VkQ29udGVudFRleHRMYWJlbEdlbmVyYXRvciA9IChjb25maWcpID0+IHtcbiAgcmV0dXJuIGNhcGl0YWxpemVTdGFydChJTlRFUk5BTF9kb0Zvcm1hdHRpbmcoY29uZmlnKSk7XG59O1xudmFyIHN0eWxlRmllbGRUb0NsYXNzTmFtZSA9IChzdHlsZUZpZWxkLCBhcmdzKSA9PiB7XG4gIGlmICh0eXBlb2Ygc3R5bGVGaWVsZCA9PT0gXCJzdHJpbmdcIilcbiAgICByZXR1cm4gc3R5bGVGaWVsZDtcbiAgaWYgKHR5cGVvZiBzdHlsZUZpZWxkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBjb25zdCByZXN1bHQgPSBzdHlsZUZpZWxkKGFyZ3MpO1xuICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSBcInN0cmluZ1wiKVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn07XG52YXIgc3R5bGVGaWVsZFRvQ3NzT2JqZWN0ID0gKHN0eWxlRmllbGQsIGFyZ3MpID0+IHtcbiAgaWYgKHR5cGVvZiBzdHlsZUZpZWxkID09PSBcIm9iamVjdFwiKVxuICAgIHJldHVybiBzdHlsZUZpZWxkO1xuICBpZiAodHlwZW9mIHN0eWxlRmllbGQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGNvbnN0IHJlc3VsdCA9IHN0eWxlRmllbGQoYXJncyk7XG4gICAgaWYgKHR5cGVvZiByZXN1bHQgPT09IFwib2JqZWN0XCIpXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIHJldHVybiB7fTtcbn07XG52YXIgY29udGVudEZpZWxkVG9Db250ZW50ID0gKGNvbnRlbnRGaWVsZCwgYXJnKSA9PiB7XG4gIGlmICghY29udGVudEZpZWxkKVxuICAgIHJldHVybiBudWxsO1xuICBpZiAodHlwZW9mIGNvbnRlbnRGaWVsZCAhPT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBjb250ZW50RmllbGQ7XG4gIGlmICh0eXBlb2YgY29udGVudEZpZWxkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBjb25zdCByZXN1bHQgPSBjb250ZW50RmllbGQoYXJnKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59O1xuXG4vLyBzcmMvY2xpZW50LnRzXG5mdW5jdGlvbiBmZXRjaFdpdGhQcm9ncmVzcyh1cmwsIG9wdHMgPSB7fSwgb25Qcm9ncmVzcywgb25VcGxvYWRCZWdpbikge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLm9wZW4ob3B0cy5tZXRob2QgPz8gXCJnZXRcIiwgdXJsKTtcbiAgICBvcHRzLmhlYWRlcnMgJiYgT2JqZWN0LmtleXMob3B0cy5oZWFkZXJzKS5mb3JFYWNoKFxuICAgICAgKGgpID0+IG9wdHMuaGVhZGVycyAmJiB4aHIuc2V0UmVxdWVzdEhlYWRlcihoLCBvcHRzLmhlYWRlcnMuZ2V0KGgpID8/IFwiXCIpXG4gICAgKTtcbiAgICB4aHIub25sb2FkID0gKGUpID0+IHtcbiAgICAgIHJlcyhlLnRhcmdldCk7XG4gICAgfTtcbiAgICB4aHIub25lcnJvciA9IHJlajtcbiAgICBpZiAoeGhyLnVwbG9hZCAmJiBvblByb2dyZXNzKVxuICAgICAgeGhyLnVwbG9hZC5vbnByb2dyZXNzID0gb25Qcm9ncmVzcztcbiAgICBpZiAoeGhyLnVwbG9hZCAmJiBvblVwbG9hZEJlZ2luKVxuICAgICAgeGhyLnVwbG9hZC5vbmxvYWRzdGFydCA9IG9uVXBsb2FkQmVnaW47XG4gICAgeGhyLnNlbmQob3B0cy5ib2R5KTtcbiAgfSk7XG59XG52YXIgY3JlYXRlQVBJUmVxdWVzdFVybCA9IChjb25maWcpID0+IHtcbiAgY29uc3QgdXJsID0gbmV3IFVSTChcbiAgICBjb25maWcudXJsID8/IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2FwaS91cGxvYWR0aGluZ2BcbiAgKTtcbiAgY29uc3QgcXVlcnlQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHVybC5zZWFyY2gpO1xuICBxdWVyeVBhcmFtcy5zZXQoXCJhY3Rpb25UeXBlXCIsIGNvbmZpZy5hY3Rpb25UeXBlKTtcbiAgcXVlcnlQYXJhbXMuc2V0KFwic2x1Z1wiLCBjb25maWcuc2x1Zyk7XG4gIHVybC5zZWFyY2ggPSBxdWVyeVBhcmFtcy50b1N0cmluZygpO1xuICByZXR1cm4gdXJsLnRvU3RyaW5nKCk7XG59O1xudmFyIERBTkdFUk9VU19fdXBsb2FkRmlsZXMgPSBhc3luYyAob3B0cywgY29uZmlnKSA9PiB7XG4gIGNvbnN0IHMzQ29ubmVjdGlvblJlcyA9IGF3YWl0IGZldGNoKFxuICAgIGNyZWF0ZUFQSVJlcXVlc3RVcmwoe1xuICAgICAgdXJsOiBjb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZy51cmwsXG4gICAgICBzbHVnOiBTdHJpbmcob3B0cy5lbmRwb2ludCksXG4gICAgICBhY3Rpb25UeXBlOiBcInVwbG9hZFwiXG4gICAgfSksXG4gICAge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgZmlsZXM6IG9wdHMuZmlsZXMubWFwKChmKSA9PiBmLm5hbWUpLFxuICAgICAgICBpbnB1dDogb3B0cy5pbnB1dFxuICAgICAgfSksXG4gICAgICAvLyBFeHByZXNzIHJlcXVpcmVzIENvbnRlbnQtVHlwZSB0byBiZSBleHBsaWNpdGx5IHNldCB0byBwYXJzZSBib2R5IHByb3Blcmx5XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICB9XG4gICAgfVxuICApLnRoZW4oYXN5bmMgKHJlcykgPT4ge1xuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICBjb25zdCBlcnJvciA9IGF3YWl0IFVwbG9hZFRoaW5nRXJyb3IuZnJvbVJlc3BvbnNlKHJlcyk7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgY29uc3QganNvbk9yRXJyb3IgPSBhd2FpdCBzYWZlUGFyc2VKU09OKHJlcyk7XG4gICAgaWYgKGpzb25PckVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBVcGxvYWRUaGluZ0Vycm9yKHtcbiAgICAgICAgY29kZTogXCJCQURfUkVRVUVTVFwiLFxuICAgICAgICBtZXNzYWdlOiBqc29uT3JFcnJvci5tZXNzYWdlLFxuICAgICAgICBjYXVzZTogcmVzXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGpzb25PckVycm9yO1xuICB9KTtcbiAgaWYgKCFzM0Nvbm5lY3Rpb25SZXMgfHwgIUFycmF5LmlzQXJyYXkoczNDb25uZWN0aW9uUmVzKSkge1xuICAgIHRocm93IG5ldyBVcGxvYWRUaGluZ0Vycm9yKHtcbiAgICAgIGNvZGU6IFwiQkFEX1JFUVVFU1RcIixcbiAgICAgIG1lc3NhZ2U6IFwiTm8gVVJMLiBIb3cgZGlkIHlvdSBldmVuIGdldCBoZXJlP1wiLFxuICAgICAgY2F1c2U6IHMzQ29ubmVjdGlvblJlc1xuICAgIH0pO1xuICB9XG4gIGNvbnN0IGZpbGVVcGxvYWRQcm9taXNlcyA9IHMzQ29ubmVjdGlvblJlcy5tYXAoYXN5bmMgKHByZXNpZ25lZCkgPT4ge1xuICAgIGNvbnN0IGZpbGUgPSBvcHRzLmZpbGVzLmZpbmQoKGYpID0+IGYubmFtZSA9PT0gcHJlc2lnbmVkLm5hbWUpO1xuICAgIGlmICghZmlsZSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIk5vIGZpbGUgZm91bmQgZm9yIHByZXNpZ25lZCBVUkxcIiwgcHJlc2lnbmVkKTtcbiAgICAgIHRocm93IG5ldyBVcGxvYWRUaGluZ0Vycm9yKHtcbiAgICAgICAgY29kZTogXCJOT1RfRk9VTkRcIixcbiAgICAgICAgbWVzc2FnZTogXCJObyBmaWxlIGZvdW5kIGZvciBwcmVzaWduZWQgVVJMXCIsXG4gICAgICAgIGNhdXNlOiBgRXhwZWN0ZWQgZmlsZSB3aXRoIG5hbWUgJHtwcmVzaWduZWQubmFtZX0gYnV0IGdvdCAnJHtvcHRzLmZpbGVzLmpvaW4oXCIsXCIpfSdgXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgeyB1cmwsIGZpZWxkcyB9ID0gcHJlc2lnbmVkLnByZXNpZ25lZFVybDtcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGlmIChwcmVzaWduZWQuZmlsZVR5cGUgPT09IGZpbGUudHlwZS5zcGxpdChcIi9cIilbMF0gfHwgcHJlc2lnbmVkLmZpbGVUeXBlID09PSBmaWxlLnR5cGUpIHtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZChcIkNvbnRlbnQtVHlwZVwiLCBmaWxlLnR5cGUpO1xuICAgIH0gZWxzZSBpZiAocHJlc2lnbmVkLmZpbGVUeXBlID09PSBcImJsb2JcIikge1xuICAgICAgZm9ybURhdGEuYXBwZW5kKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIpO1xuICAgIH0gZWxzZSBpZiAocHJlc2lnbmVkLmZpbGVUeXBlID09PSBcInBkZlwiKSB7XG4gICAgICBmb3JtRGF0YS5hcHBlbmQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9wZGZcIik7XG4gICAgfVxuICAgIE9iamVjdC5lbnRyaWVzKHsgLi4uZmllbGRzLCBmaWxlIH0pLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgZm9ybURhdGEuYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgIH0pO1xuICAgIGNvbnN0IHVwbG9hZCA9IGF3YWl0IGZldGNoV2l0aFByb2dyZXNzKFxuICAgICAgdXJsLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoe1xuICAgICAgICAgIEFjY2VwdDogXCJhcHBsaWNhdGlvbi94bWxcIlxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIChwcm9ncmVzc0V2ZW50KSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IG9wdHMub25VcGxvYWRQcm9ncmVzcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwob3B0cywge1xuICAgICAgICAgIGZpbGU6IGZpbGUubmFtZSxcbiAgICAgICAgICBwcm9ncmVzczogcHJvZ3Jlc3NFdmVudC5sb2FkZWQgLyBwcm9ncmVzc0V2ZW50LnRvdGFsICogMTAwXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSBvcHRzLm9uVXBsb2FkQmVnaW4pID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKG9wdHMsIHtcbiAgICAgICAgICBmaWxlOiBmaWxlLm5hbWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgKTtcbiAgICBpZiAodXBsb2FkLnN0YXR1cyA+IDI5OSB8fCB1cGxvYWQuc3RhdHVzIDwgMjAwKSB7XG4gICAgICBhd2FpdCBmZXRjaChcbiAgICAgICAgY3JlYXRlQVBJUmVxdWVzdFVybCh7XG4gICAgICAgICAgdXJsOiBjb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZy51cmwsXG4gICAgICAgICAgc2x1ZzogU3RyaW5nKG9wdHMuZW5kcG9pbnQpLFxuICAgICAgICAgIGFjdGlvblR5cGU6IFwiZmFpbHVyZVwiXG4gICAgICAgIH0pLFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBmaWxlS2V5OiBmaWVsZHMua2V5XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IG1heWJlUGFyc2VSZXNwb25zZVhNTCh1cGxvYWQucmVzcG9uc2VUZXh0KTtcbiAgICAgIGlmIChwYXJzZWQgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcnNlZC5tZXNzYWdlKSB7XG4gICAgICAgIHRocm93IG5ldyBVcGxvYWRUaGluZ0Vycm9yKHtcbiAgICAgICAgICBjb2RlOiBwYXJzZWQuY29kZSxcbiAgICAgICAgICBtZXNzYWdlOiBwYXJzZWQubWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBVcGxvYWRUaGluZ0Vycm9yKHtcbiAgICAgICAgICBjb2RlOiBcIlVQTE9BRF9GQUlMRURcIixcbiAgICAgICAgICBtZXNzYWdlOiBgRmFpbGVkIHRvIHVwbG9hZCBmaWxlICR7ZmlsZS5uYW1lfSB0byBTM2AsXG4gICAgICAgICAgY2F1c2U6IHVwbG9hZC5yZXNwb25zZVRleHRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGdlblVybCA9IFwiaHR0cHM6Ly91dGZzLmlvL2YvXCIgKyBlbmNvZGVVUklDb21wb25lbnQoZmllbGRzLmtleSk7XG4gICAgYXdhaXQgcG9sbEZvckZpbGVEYXRhKHByZXNpZ25lZC5rZXkpO1xuICAgIGNvbnN0IHJldCA9IHtcbiAgICAgIGZpbGVOYW1lOiBmaWxlLm5hbWUsXG4gICAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgICBmaWxlU2l6ZTogZmlsZS5zaXplLFxuICAgICAgc2l6ZTogZmlsZS5zaXplLFxuICAgICAgZmlsZUtleTogcHJlc2lnbmVkLmtleSxcbiAgICAgIGtleTogcHJlc2lnbmVkLmtleSxcbiAgICAgIGZpbGVVcmw6IGdlblVybCxcbiAgICAgIHVybDogZ2VuVXJsXG4gICAgfTtcbiAgICByZXR1cm4gcmV0O1xuICB9KTtcbiAgcmV0dXJuIFByb21pc2UuYWxsKGZpbGVVcGxvYWRQcm9taXNlcyk7XG59O1xudmFyIGdlblVwbG9hZGVyID0gKCkgPT4ge1xuICByZXR1cm4gREFOR0VST1VTX191cGxvYWRGaWxlcztcbn07XG52YXIgY2xhc3NOYW1lcyA9ICguLi5jbGFzc2VzKSA9PiB7XG4gIHJldHVybiBjbGFzc2VzLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKTtcbn07XG52YXIgZ2VuZXJhdGVNaW1lVHlwZXMgPSAoZmlsZVR5cGVzKSA9PiB7XG4gIGNvbnN0IGFjY2VwdGVkID0gZmlsZVR5cGVzLm1hcCgodHlwZSkgPT4ge1xuICAgIGlmICh0eXBlID09PSBcImJsb2JcIilcbiAgICAgIHJldHVybiBcImJsb2JcIjtcbiAgICBpZiAodHlwZSA9PT0gXCJwZGZcIilcbiAgICAgIHJldHVybiBcImFwcGxpY2F0aW9uL3BkZlwiO1xuICAgIGlmICh0eXBlLmluY2x1ZGVzKFwiL1wiKSlcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiBgJHt0eXBlfS8qYDtcbiAgfSk7XG4gIGlmIChhY2NlcHRlZC5pbmNsdWRlcyhcImJsb2JcIikpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIHJldHVybiBhY2NlcHRlZDtcbn07XG52YXIgZ2VuZXJhdGVDbGllbnREcm9wem9uZUFjY2VwdCA9IChmaWxlVHlwZXMpID0+IHtcbiAgY29uc3QgbWltZVR5cGVzID0gZ2VuZXJhdGVNaW1lVHlwZXMoZmlsZVR5cGVzKTtcbiAgaWYgKCFtaW1lVHlwZXMpXG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhtaW1lVHlwZXMubWFwKCh0eXBlKSA9PiBbdHlwZSwgW11dKSk7XG59O1xuZXhwb3J0IHtcbiAgREFOR0VST1VTX191cGxvYWRGaWxlcyxcbiAgSU5URVJOQUxfZG9Gb3JtYXR0aW5nLFxuICBhbGxvd2VkQ29udGVudFRleHRMYWJlbEdlbmVyYXRvcixcbiAgY2FwaXRhbGl6ZVN0YXJ0LFxuICBjbGFzc05hbWVzLFxuICBjb250ZW50RmllbGRUb0NvbnRlbnQsXG4gIGdlblVwbG9hZGVyLFxuICBnZW5lcmF0ZUNsaWVudERyb3B6b25lQWNjZXB0LFxuICBnZW5lcmF0ZU1pbWVUeXBlcyxcbiAgZ2VuZXJhdGVQZXJtaXR0ZWRGaWxlVHlwZXMsXG4gIHN0eWxlRmllbGRUb0NsYXNzTmFtZSxcbiAgc3R5bGVGaWVsZFRvQ3NzT2JqZWN0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpZW50Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/uploadthing/dist/client.mjs\n");

/***/ })

};
;