"use client";

// src/next-ssr-plugin.tsx
import { useId } from "react";
import { useServerInsertedHTML } from "next/navigation";
import { jsx } from "react/jsx-runtime";
function NextSSRPlugin(props) {
  const id = useId();
  globalThis.__UPLOADTHING ?? (globalThis.__UPLOADTHING = props.routerConfig);
  useServerInsertedHTML(() => {
    const html = [
      // Hydrate routerConfig on client globalThis
      `globalThis.__UPLOADTHING ??= ${JSON.stringify(props.routerConfig)};`
    ];
    return /* @__PURE__ */ jsx("script", { dangerouslySetInnerHTML: { __html: html.join("") } }, id);
  });
  return null;
}
export {
  NextSSRPlugin
};
//# sourceMappingURL=next-ssr-plugin.mjs.map